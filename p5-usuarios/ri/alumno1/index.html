
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://www.grupalesbdc.ga/p5-usuarios/ri/alumno1/" rel="canonical"/>
<link href="../../intro/" rel="prev"/>
<link href="../alumno2/" rel="next"/>
<link href="../../../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.15" name="generator"/>
<title>Alumno 1: Adrián - Grupales de BD Grupo C 22/23</title>
<link href="../../../assets/stylesheets/main.113286f1.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../stylesheets/asciinema-player.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="red" data-md-color-primary="red" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#alumno-1-oracle">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Grupales de BD Grupo C 22/23" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Grupales de BD Grupo C 22/23">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Grupales de BD Grupo C 22/23
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Alumno 1: Adrián
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Cambiar a tema oscuro" class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Cambiar a tema oscuro">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Cambiar a tema normal" class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Cambiar a tema normal">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/adriasir123/grupalesbdc" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.546 10.93 13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.846 1.846 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.848 1.848 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"></path></svg>
</div>
<div class="md-source__repository">
    Repositorio
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../p1-servidores-clientes/intro/">
        Práctica 1 servidores y clientes
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../p4-grupal-plsql/intro/">
        Práctica 4 grupal de PL/SQL
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../intro/">
        Práctica 5 usuarios
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../p6-almacenamiento/intro/">
        Práctica 6 almacenamiento
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Grupales de BD Grupo C 22/23" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Grupales de BD Grupo C 22/23">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"></path></svg>
</a>
    Grupales de BD Grupo C 22/23
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/adriasir123/grupalesbdc" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.546 10.93 13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.846 1.846 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.848 1.848 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"></path></svg>
</div>
<div class="md-source__repository">
    Repositorio
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Práctica 1 servidores y clientes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Práctica 1 servidores y clientes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/intro/">
        Introducción
      </a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Responsabilidad individual
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad individual
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/ri/alumno1/">
        Alumno 1: Adrián
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/ri/alumno2/">
        Alumno 2: José Juan
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/ri/alumno3/">
        Alumno 3: Arantxa
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/ri/alumno4/">
        Alumno 4: Antonio
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Responsabilidad grupal
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad grupal
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/rg/sql-developer/">
        SQL Developer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/rg/herramienta-postgresql/">
        phpPgAdmin
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/rg/phpmyadmin/">
        phpMyAdmin
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/rg/herramienta-mongodb/">
        MongoDB-PHP-GUI
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p1-servidores-clientes/rg/oracle-enterprise-manager/">
        Oracle Enterprise Manager
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Práctica 4 grupal de PL/SQL
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Práctica 4 grupal de PL/SQL
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/intro/">
        Introducción
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/pasos-previos/">
        Pasos previos
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio1/">
        Ejercicio 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio2/">
        Ejercicio 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio3/">
        Ejercicio 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio3-postgres/">
        Ejercicio 3 PostgreSQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio4/">
        Ejercicio 4
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio5/">
        Ejercicio 5
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio5-postgres/">
        Ejercicio 5 PostgreSQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio6/">
        Ejercicio 6
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio7/">
        Ejercicio 7
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p4-grupal-plsql/ejercicio8/">
        Ejercicio 8
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Práctica 5 usuarios
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Práctica 5 usuarios
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../intro/">
        Introducción
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Responsabilidad individual
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad individual
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Alumno 1: Adrián
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Alumno 1: Adrián
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#pasos-previos">
    Pasos previos
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-1">
    Ejercicio 1
  </a>
<nav aria-label="Ejercicio 1" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-enunciado">
    1. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-realizacion">
    1. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-comprobaciones">
    1. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-2">
    Ejercicio 2
  </a>
<nav aria-label="Ejercicio 2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#2-enunciado">
    2. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-realizacion">
    2. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-3">
    Ejercicio 3
  </a>
<nav aria-label="Ejercicio 3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#3-enunciado">
    3. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-realizacion">
    3. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-comprobaciones">
    3. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-4">
    Ejercicio 4
  </a>
<nav aria-label="Ejercicio 4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#4-enunciado">
    4. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-realizacion">
    4. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-comprobaciones">
    4. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-5">
    Ejercicio 5
  </a>
<nav aria-label="Ejercicio 5" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#5-enunciado">
    5. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-realizacion">
    5. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-comprobaciones">
    5. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-6">
    Ejercicio 6
  </a>
<nav aria-label="Ejercicio 6" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#6-enunciado">
    6. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-realizacion">
    6. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-comprobaciones">
    6. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-7">
    Ejercicio 7
  </a>
<nav aria-label="Ejercicio 7" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#7-enunciado">
    7. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-realizacion">
    7. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-8">
    Ejercicio 8
  </a>
<nav aria-label="Ejercicio 8" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#8-enunciado">
    8. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-realizacion">
    8. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-comprobaciones">
    8. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-9">
    Ejercicio 9
  </a>
<nav aria-label="Ejercicio 9" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#9-enunciado">
    9. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-realizacion">
    9. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-comprobaciones">
    9. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-10">
    Ejercicio 10
  </a>
<nav aria-label="Ejercicio 10" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#10-enunciado">
    10. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-realizacion">
    10. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-comprobaciones">
    10. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-11">
    Ejercicio 11
  </a>
<nav aria-label="Ejercicio 11" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#11-enunciado">
    11. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-realizacion">
    11. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-comprobaciones">
    11. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-12">
    Ejercicio 12
  </a>
<nav aria-label="Ejercicio 12" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#12-enunciado">
    12. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12-realizacion">
    12. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12-comprobaciones">
    12. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-13">
    Ejercicio 13
  </a>
<nav aria-label="Ejercicio 13" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#13-enunciado">
    13. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#13-realizacion">
    13. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#13-comprobaciones">
    13. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-14">
    Ejercicio 14
  </a>
<nav aria-label="Ejercicio 14" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#14-enunciado">
    14. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#14-realizacion">
    14. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-15">
    Ejercicio 15
  </a>
<nav aria-label="Ejercicio 15" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#15-enunciado">
    15. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#15-realizacion">
    15. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-16">
    Ejercicio 16
  </a>
<nav aria-label="Ejercicio 16" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#16-enunciado">
    16. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#16-realizacion">
    16. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-17">
    Ejercicio 17
  </a>
<nav aria-label="Ejercicio 17" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#17-enunciado">
    17. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#17-realizacion">
    17. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-18">
    Ejercicio 18
  </a>
<nav aria-label="Ejercicio 18" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#18-enunciado">
    18. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#18-realizacion">
    18. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-19">
    Ejercicio 19
  </a>
<nav aria-label="Ejercicio 19" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#19-enunciado">
    19. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#19-realizacion">
    19. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-20">
    Ejercicio 20
  </a>
<nav aria-label="Ejercicio 20" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#20-enunciado">
    20. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#20-realizacion">
    20. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-21">
    Ejercicio 21
  </a>
<nav aria-label="Ejercicio 21" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21-enunciado">
    21. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#21-realizacion">
    21. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-22">
    Ejercicio 22
  </a>
<nav aria-label="Ejercicio 22" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#22-enunciado">
    22. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22-realizacion">
    22. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-23">
    Ejercicio 23
  </a>
<nav aria-label="Ejercicio 23" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#23-enunciado">
    23. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-realizacion">
    23. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-comprobaciones">
    23. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-24">
    Ejercicio 24
  </a>
<nav aria-label="Ejercicio 24" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#24-enunciado">
    24. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-codigo">
    24. Código
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-comprobaciones">
    24. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-25">
    Ejercicio 25
  </a>
<nav aria-label="Ejercicio 25" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#25-enunciado">
    25. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#25-codigo">
    25. Código
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#25-comprobaciones">
    25. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../alumno2/">
        Alumno 2: José Juan
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../alumno3/">
        Alumno 3: Arantxa
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../alumno4/">
        Alumno 4: Antonio
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Responsabilidad grupal
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad grupal
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_1" id="__nav_4_3_1_label" tabindex="0">
          Caso práctico 1
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_1">
<span class="md-nav__icon md-icon"></span>
          Caso práctico 1
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej1/">
        Ejercicio 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej2/">
        Ejercicio 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej3/">
        Ejercicio 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej4-oracle/">
        Ejercicio 4 Oracle
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej4-postgres/">
        Ejercicio 4 PostgreSQL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-1-ej5/">
        Ejercicio 5
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
          Caso práctico 2
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_2">
<span class="md-nav__icon md-icon"></span>
          Caso práctico 2
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-2-ej1/">
        Ejercicio 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-2-ej2/">
        Ejercicio 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-2-ej3/">
        Ejercicio 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/caso-practico-2-ej4/">
        Ejercicio 4
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rg/ejercicio-grupal-3/">
        Ejercicio grupal 3
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Práctica 6 almacenamiento
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Práctica 6 almacenamiento
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/intro/">
        Introducción
      </a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Responsabilidad individual
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad individual
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/ri/alumno1/">
        Alumno 1: Antonio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/ri/alumno2/">
        Alumno 2: José Juan
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/ri/alumno3/">
        Alumno 3: Arantxa
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/ri/alumno4/">
        Alumno 4: Adrián
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          Responsabilidad grupal
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          Responsabilidad grupal
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio1/">
        Ejercicio 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio2/">
        Ejercicio 2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio3/">
        Ejercicio 3
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio4/">
        Ejercicio 4
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio5/">
        Ejercicio 5
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio6/">
        Ejercicio 6
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/ejercicio7/">
        Ejercicio 7
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3_8" id="__nav_5_3_8_label" tabindex="0">
          Caso práctico
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_8_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_3_8">
<span class="md-nav__icon md-icon"></span>
          Caso práctico
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/caso-practico-parte-a/">
        Parte A
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/caso-practico-parte-b/">
        Parte B
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/caso-practico-parte-c/">
        Parte C
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/caso-practico-parte-d/">
        Parte D
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/caso-practico-parte-f/">
        Parte F
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../p6-almacenamiento/rg/video-grupal/">
        Vídeo grupal
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#pasos-previos">
    Pasos previos
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-1">
    Ejercicio 1
  </a>
<nav aria-label="Ejercicio 1" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-enunciado">
    1. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-realizacion">
    1. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#1-comprobaciones">
    1. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-2">
    Ejercicio 2
  </a>
<nav aria-label="Ejercicio 2" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#2-enunciado">
    2. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-realizacion">
    2. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-3">
    Ejercicio 3
  </a>
<nav aria-label="Ejercicio 3" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#3-enunciado">
    3. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-realizacion">
    3. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-comprobaciones">
    3. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-4">
    Ejercicio 4
  </a>
<nav aria-label="Ejercicio 4" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#4-enunciado">
    4. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-realizacion">
    4. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-comprobaciones">
    4. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-5">
    Ejercicio 5
  </a>
<nav aria-label="Ejercicio 5" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#5-enunciado">
    5. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-realizacion">
    5. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-comprobaciones">
    5. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-6">
    Ejercicio 6
  </a>
<nav aria-label="Ejercicio 6" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#6-enunciado">
    6. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-realizacion">
    6. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-comprobaciones">
    6. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-7">
    Ejercicio 7
  </a>
<nav aria-label="Ejercicio 7" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#7-enunciado">
    7. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-realizacion">
    7. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-8">
    Ejercicio 8
  </a>
<nav aria-label="Ejercicio 8" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#8-enunciado">
    8. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-realizacion">
    8. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-comprobaciones">
    8. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-9">
    Ejercicio 9
  </a>
<nav aria-label="Ejercicio 9" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#9-enunciado">
    9. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-realizacion">
    9. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-comprobaciones">
    9. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-10">
    Ejercicio 10
  </a>
<nav aria-label="Ejercicio 10" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#10-enunciado">
    10. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-realizacion">
    10. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-comprobaciones">
    10. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-11">
    Ejercicio 11
  </a>
<nav aria-label="Ejercicio 11" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#11-enunciado">
    11. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-realizacion">
    11. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-comprobaciones">
    11. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-12">
    Ejercicio 12
  </a>
<nav aria-label="Ejercicio 12" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#12-enunciado">
    12. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12-realizacion">
    12. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#12-comprobaciones">
    12. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-13">
    Ejercicio 13
  </a>
<nav aria-label="Ejercicio 13" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#13-enunciado">
    13. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#13-realizacion">
    13. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#13-comprobaciones">
    13. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-14">
    Ejercicio 14
  </a>
<nav aria-label="Ejercicio 14" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#14-enunciado">
    14. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#14-realizacion">
    14. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-15">
    Ejercicio 15
  </a>
<nav aria-label="Ejercicio 15" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#15-enunciado">
    15. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#15-realizacion">
    15. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-16">
    Ejercicio 16
  </a>
<nav aria-label="Ejercicio 16" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#16-enunciado">
    16. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#16-realizacion">
    16. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-17">
    Ejercicio 17
  </a>
<nav aria-label="Ejercicio 17" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#17-enunciado">
    17. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#17-realizacion">
    17. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-18">
    Ejercicio 18
  </a>
<nav aria-label="Ejercicio 18" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#18-enunciado">
    18. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#18-realizacion">
    18. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-19">
    Ejercicio 19
  </a>
<nav aria-label="Ejercicio 19" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#19-enunciado">
    19. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#19-realizacion">
    19. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-20">
    Ejercicio 20
  </a>
<nav aria-label="Ejercicio 20" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#20-enunciado">
    20. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#20-realizacion">
    20. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-21">
    Ejercicio 21
  </a>
<nav aria-label="Ejercicio 21" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21-enunciado">
    21. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#21-realizacion">
    21. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-22">
    Ejercicio 22
  </a>
<nav aria-label="Ejercicio 22" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#22-enunciado">
    22. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22-realizacion">
    22. Realización
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-23">
    Ejercicio 23
  </a>
<nav aria-label="Ejercicio 23" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#23-enunciado">
    23. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-realizacion">
    23. Realización
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-comprobaciones">
    23. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-24">
    Ejercicio 24
  </a>
<nav aria-label="Ejercicio 24" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#24-enunciado">
    24. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-codigo">
    24. Código
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-comprobaciones">
    24. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ejercicio-25">
    Ejercicio 25
  </a>
<nav aria-label="Ejercicio 25" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#25-enunciado">
    25. Enunciado
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#25-codigo">
    25. Código
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#25-comprobaciones">
    25. Comprobaciones
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="alumno-1-oracle">Alumno 1 (ORACLE)</h1>
<h2 id="pasos-previos">Pasos previos</h2>
<p>Durante toda esta parte individual, a veces usaré el siguiente usuario de pruebas:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">TESTING</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1234</span><span class="p">;</span>
</code></pre></div>
<h2 id="ejercicio-1">Ejercicio 1</h2>
<h3 id="1-enunciado">1. Enunciado</h3>
<p>Crear el rol <code>ROLPRACTICA1</code> con privilegios:</p>
<ul>
<li>Conexión a la base de datos</li>
<li>Creación de tablas</li>
<li>Creación de vistas</li>
<li>Inserción de datos en la tabla EMP de SCOTT</li>
</ul>
<h3 id="1-realizacion">1. Realización</h3>
<p>Creo el rol:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="n">rolpractica1</span><span class="p">;</span>
</code></pre></div>
<p>Le asigno los privilegios:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">SESSION</span><span class="p">,</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="p">,</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">rolpractica1</span><span class="p">;</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">emp</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">rolpractica1</span><span class="p">;</span>
</code></pre></div>
<h3 id="1-comprobaciones">1. Comprobaciones</h3>
<p>Compruebo que se ha creado el rol:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">role</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLES</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ROLPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">ROLE</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">ROLPRACTICA1</span>
</code></pre></div>
<p>Compruebo que los privilegios están asignados:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">privilege</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_SYS_PRIVS</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ROLPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">PRIVILEGE</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="c1">----------------------------------------</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">SESSION</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">privilege</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TAB_PRIVS</span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ROLPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">PRIVILEGE</span>
<a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="c1">----------------------------------------</span>
<a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="k">INSERT</span>
</code></pre></div>
<p>Le asigno el rol al usuario <code>testing</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="n">ROLPRACTICA1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">testing</span><span class="p">;</span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="k">Grant</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<p>Me conecto:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">testing</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>
<a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Esos errores de privilegios no son relevantes, ya que como vemos he conectado correctamente.<br/>
Aclaro que simplemente aparecen porque tengo un script personalizado en sqlplus que se lanza en cada conexión, que hace ciertas acciones; algunas necesitan permisos de administrador.</p>
</div>
<p>Creo una tabla:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">  </span><span class="n">campo</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">tabla_pk</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="p">);</span>
<a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a>
<a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="k">Table</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<p>Creo una vista:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">view_tabla</span><span class="w"> </span><span class="k">AS</span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">tabla</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">view_tabla</span><span class="w"> </span><span class="k">AS</span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="mi">2</span><span class="w">      </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">tabla</span><span class="p">;</span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a>
<a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="k">View</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<p>Inserto un registro en <code>scott.emp</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">emp</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">8000</span><span class="p">,</span><span class="s1">'TESTER'</span><span class="p">,</span><span class="s1">'TESTER'</span><span class="p">,</span><span class="mi">7782</span><span class="p">,</span><span class="n">to_date</span><span class="p">(</span><span class="s1">'23-1-1982'</span><span class="p">,</span><span class="s1">'dd-mm-yyyy'</span><span class="p">),</span><span class="mi">1300</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a>
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-2">Ejercicio 2</h2>
<h3 id="2-enunciado">2. Enunciado</h3>
<p>Crear el usuario USRPRACTICA1 con el tablespace USERS por defecto y averiguar qué cuota se le ha asignado por defecto en el mismo. Sustitúyela por una cuota de 1M.</p>
<h3 id="2-realizacion">2. Realización</h3>
<p>Creo el usuario:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="n">USERS</span><span class="p">;</span>
<a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>
<a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="k">User</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<p>Por defecto, la cuota de los usuarios sobre los tablespaces es 0:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USERS'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USERS'</span><span class="p">;</span>
<a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a>
<a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="k">no</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span>
</code></pre></div>
<p>No hay registros porque <code>USRPRACTICA1</code> todavía no tiene cuota. Si quisiéramos insertar datos, no podríamos, aunque para que podamos hacer esto antes primero tenemos que dar algunos permisos:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">SESSION</span><span class="p">,</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="p">;</span>
</code></pre></div>
<p>Ahora ya sí, comprobamos que no podemos meter datos:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">  </span><span class="n">campo</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">tabla_pk</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="p">);</span>
<a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a>
<a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="k">Table</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a>
<a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">);</span>
<a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">)</span>
<a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">            </span><span class="o">*</span>
<a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-19-13" id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01950</span><span class="p">:</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="k">privileges</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">tablespace</span><span class="w"> </span><span class="s1">'USERS'</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Aunque diga tabla creada, realmente no se ha creado porque no tenemos cuota.<br/>
Cuando pasa esto, estamos experimentando el mecanismo <code>deferred_segment_creation</code> de Oracle, que básicamente "retrasa" el allocation real de datos hasta que la tabla contiene datos.</p>
</div>
<p>Le cambio la cuota:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">QUOTA</span><span class="w"> </span><span class="mi">1</span><span class="n">M</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">USERS</span><span class="p">;</span>
<a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a>
<a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<p>Compruebo que ya sí aparece la cuota registrada:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USERS'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USERS'</span><span class="p">;</span>
<a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a>
<a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="k">TABLE</span><span class="w"> </span><span class="n">USERNAME</span><span class="w">      </span><span class="n">MAX_BYTES</span>
<a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="c1">----- ------------ ----------</span>
<a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="n">USERS</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w">    </span><span class="mi">1048576</span>
</code></pre></div>
<p>Ya podría insertar el registro:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tabla</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">);</span>
<a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a>
<a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a>
<a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">tabla</span><span class="p">;</span>
<a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a>
<a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">    </span><span class="n">ID</span><span class="w"> </span><span class="n">CAMPO</span>
<a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="c1">---------- --------------------------------------------------</span>
<a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">     </span><span class="mi">1</span><span class="w"> </span><span class="n">test</span>
</code></pre></div>
<h2 id="ejercicio-3">Ejercicio 3</h2>
<h3 id="3-enunciado">3. Enunciado</h3>
<p>Modificar el usuario <code>USRPRACTICA1</code> para que tenga cuota 0 en el tablespace SYSTEM.</p>
<h3 id="3-realizacion">3. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">QUOTA</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">system</span><span class="p">;</span>
<a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a>
<a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<h3 id="3-comprobaciones">3. Comprobaciones</h3>
<p>Muestro que no hay cuota:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-25-2" id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-25-3" id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SYSTEM'</span><span class="p">;</span>
<a href="#__codelineno-25-4" id="__codelineno-25-4" name="__codelineno-25-4"></a>
<a href="#__codelineno-25-5" id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="k">no</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span>
</code></pre></div>
<p>Muestro que no puedo insertar datos en <code>SYSTEM</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tabla_system</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-26-3" id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">  </span><span class="n">campo</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-26-4" id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">tabla_system_pk</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a href="#__codelineno-26-5" id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="p">)</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="k">SYSTEM</span><span class="p">;</span>
<a href="#__codelineno-26-6" id="__codelineno-26-6" name="__codelineno-26-6"></a>
<a href="#__codelineno-26-7" id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="k">Table</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<a href="#__codelineno-26-8" id="__codelineno-26-8" name="__codelineno-26-8"></a>
<a href="#__codelineno-26-9" id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tabla_system</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">);</span>
<a href="#__codelineno-26-10" id="__codelineno-26-10" name="__codelineno-26-10"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tabla_system</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">)</span>
<a href="#__codelineno-26-11" id="__codelineno-26-11" name="__codelineno-26-11"></a><span class="w">            </span><span class="o">*</span>
<a href="#__codelineno-26-12" id="__codelineno-26-12" name="__codelineno-26-12"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-26-13" id="__codelineno-26-13" name="__codelineno-26-13"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01536</span><span class="p">:</span><span class="w"> </span><span class="k">space</span><span class="w"> </span><span class="n">quota</span><span class="w"> </span><span class="n">exceeded</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tablespace</span><span class="w"> </span><span class="s1">'SYSTEM'</span>
</code></pre></div>
<h2 id="ejercicio-4">Ejercicio 4</h2>
<h3 id="4-enunciado">4. Enunciado</h3>
<p>Conceder <code>ROLPRACTICA1</code> a <code>USRPRACTICA1</code>.</p>
<h3 id="4-realizacion">4. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="n">ROLPRACTICA1</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="p">;</span>
<a href="#__codelineno-27-2" id="__codelineno-27-2" name="__codelineno-27-2"></a>
<a href="#__codelineno-27-3" id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="k">Grant</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<h3 id="4-comprobaciones">4. Comprobaciones</h3>
<p>Muestro que tiene el rol asignado:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span><span class="p">,</span><span class="n">grantee</span>
<a href="#__codelineno-28-2" id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<a href="#__codelineno-28-3" id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">granted_role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ROLPRACTICA1'</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="n">GRANTED_ROLE</span><span class="w"> </span><span class="n">GRANTEE</span>
<a href="#__codelineno-29-2" id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="c1">------------ --------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-29-3" id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="n">ROLPRACTICA1</span><span class="w"> </span><span class="n">USRPRACTICA1</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El funcionamiento del rol ya se ha probado en el ejercicio 1</p>
</div>
<h2 id="ejercicio-5">Ejercicio 5</h2>
<h3 id="5-enunciado">5. Enunciado</h3>
<p>Conceder a USRPRACTICA1 el privilegio de crear tablas e insertar datos en el esquema de cualquier usuario. Probar los privilegios. Comprobar si se puede modificar la estructura o eliminar la tabla creada.</p>
<h3 id="5-realizacion">5. Realización</h3>
<p>Doy privilegios:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-30-1" id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">TABLE</span><span class="p">,</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">TABLE</span><span class="p">,</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="p">;</span>
<a href="#__codelineno-30-2" id="__codelineno-30-2" name="__codelineno-30-2"></a>
<a href="#__codelineno-30-3" id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="k">Grant</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>No se menciona en el enunciado, pero el privilegio <code>CREATE ANY INDEX</code> es necesario</p>
</div>
<p>Le doy cuota a <code>TESTING</code> para que luego se puedan insertar datos:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-31-1" id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">TESTING</span><span class="w"> </span><span class="n">QUOTA</span><span class="w"> </span><span class="mi">1</span><span class="n">M</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">USERS</span><span class="p">;</span>
</code></pre></div>
<h3 id="5-comprobaciones">5. Comprobaciones</h3>
<p>Creo una tabla e inserto un registro en <code>TESTING</code> desde <code>USRPRACTICA1</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-32-1" id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-32-2" id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-32-3" id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">  </span><span class="n">campo</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<a href="#__codelineno-32-4" id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">tabla_testing_pk</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a href="#__codelineno-32-5" id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="p">);</span>
<a href="#__codelineno-32-6" id="__codelineno-32-6" name="__codelineno-32-6"></a>
<a href="#__codelineno-32-7" id="__codelineno-32-7" name="__codelineno-32-7"></a><span class="k">Table</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<a href="#__codelineno-32-8" id="__codelineno-32-8" name="__codelineno-32-8"></a>
<a href="#__codelineno-32-9" id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">'test'</span><span class="p">);</span>
<a href="#__codelineno-32-10" id="__codelineno-32-10" name="__codelineno-32-10"></a>
<a href="#__codelineno-32-11" id="__codelineno-32-11" name="__codelineno-32-11"></a><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<p>Como desde <code>USRPRACTICA1</code> no tengo privilegios de SELECT sobre esa tabla, la muestro desde <code>SYS</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-33-1" id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">sys</span><span class="o">/</span><span class="n">sys</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sysdba</span>
<a href="#__codelineno-33-2" id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-33-3" id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01081</span><span class="p">:</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="n">already</span><span class="o">-</span><span class="n">running</span><span class="w"> </span><span class="n">ORACLE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">shut</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="k">first</span>
<a href="#__codelineno-33-4" id="__codelineno-33-4" name="__codelineno-33-4"></a>
<a href="#__codelineno-33-5" id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<a href="#__codelineno-33-6" id="__codelineno-33-6" name="__codelineno-33-6"></a>
<a href="#__codelineno-33-7" id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="p">;</span>
<a href="#__codelineno-33-8" id="__codelineno-33-8" name="__codelineno-33-8"></a>
<a href="#__codelineno-33-9" id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">        </span><span class="n">ID</span><span class="w"> </span><span class="n">CAMPO</span>
<a href="#__codelineno-33-10" id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="c1">---------- --------------------------------------------------</span>
<a href="#__codelineno-33-11" id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="n">test</span>
</code></pre></div>
<p>Vuelvo a <code>USRPRACTICA1</code> y compruebo si se puede modificar la estructura de la tabla creada o eliminarla:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-34-1" id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-34-2" id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-34-3" id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-34-4" id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-34-5" id="__codelineno-34-5" name="__codelineno-34-5"></a>
<a href="#__codelineno-34-6" id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<a href="#__codelineno-34-7" id="__codelineno-34-7" name="__codelineno-34-7"></a>
<a href="#__codelineno-34-8" id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">CAMPO</span><span class="p">;</span>
<a href="#__codelineno-34-9" id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">CAMPO</span>
<a href="#__codelineno-34-10" id="__codelineno-34-10" name="__codelineno-34-10"></a><span class="o">*</span>
<a href="#__codelineno-34-11" id="__codelineno-34-11" name="__codelineno-34-11"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-34-12" id="__codelineno-34-12" name="__codelineno-34-12"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-34-13" id="__codelineno-34-13" name="__codelineno-34-13"></a>
<a href="#__codelineno-34-14" id="__codelineno-34-14" name="__codelineno-34-14"></a>
<a href="#__codelineno-34-15" id="__codelineno-34-15" name="__codelineno-34-15"></a><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span><span class="p">;</span>
<a href="#__codelineno-34-16" id="__codelineno-34-16" name="__codelineno-34-16"></a><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TESTING</span><span class="p">.</span><span class="n">tabla</span>
<a href="#__codelineno-34-17" id="__codelineno-34-17" name="__codelineno-34-17"></a><span class="w">                   </span><span class="o">*</span>
<a href="#__codelineno-34-18" id="__codelineno-34-18" name="__codelineno-34-18"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-34-19" id="__codelineno-34-19" name="__codelineno-34-19"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
</code></pre></div>
<p>No se puede, porque en ningún momento le hemos dado a <code>USRPRACTICA1</code> los privilegios necesarios para estas acciones.</p>
<h2 id="ejercicio-6">Ejercicio 6</h2>
<h3 id="6-enunciado">6. Enunciado</h3>
<p>Conceder a <code>USRPRACTICA1</code> el privilegio de leer la tabla DEPT de SCOTT con la posibilidad de que lo pase a su vez a terceros usuarios.</p>
<h3 id="6-realizacion">6. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-35-1" id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">READ</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">dept</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">GRANT</span><span class="w"> </span><span class="k">OPTION</span><span class="p">;</span>
<a href="#__codelineno-35-2" id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a href="#__codelineno-35-3" id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="k">Grant</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El privilegio <code>READ</code> se añadió en la versión 12.1 de Oracle, y es equivalente a <code>SELECT</code> pero más seguro; no se da implícitamente privilegio de LOCK sobre el objeto.<br/>
Si se otorga el privilegio <code>SELECT</code> a un usuario sobre una tabla por ejemplo, éste podría bloquearla, pero con <code>READ</code> no podría.</p>
</div>
<h3 id="6-comprobaciones">6. Comprobaciones</h3>
<p>Me conecto a <code>USRPRACTICA1</code> y pruebo el privilegio:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-36-1" id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-36-2" id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-36-3" id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-36-4" id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-36-5" id="__codelineno-36-5" name="__codelineno-36-5"></a>
<a href="#__codelineno-36-6" id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<a href="#__codelineno-36-7" id="__codelineno-36-7" name="__codelineno-36-7"></a>
<a href="#__codelineno-36-8" id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">dept</span><span class="p">;</span>
<a href="#__codelineno-36-9" id="__codelineno-36-9" name="__codelineno-36-9"></a>
<a href="#__codelineno-36-10" id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="w">    </span><span class="n">DEPTNO</span><span class="w"> </span><span class="n">DNAME</span><span class="w">          </span><span class="n">LOC</span>
<a href="#__codelineno-36-11" id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="c1">---------- -------------- -------------</span>
<a href="#__codelineno-36-12" id="__codelineno-36-12" name="__codelineno-36-12"></a><span class="w">        </span><span class="mi">10</span><span class="w"> </span><span class="n">ACCOUNTING</span><span class="w">     </span><span class="k">NEW</span><span class="w"> </span><span class="n">YORK</span>
<a href="#__codelineno-36-13" id="__codelineno-36-13" name="__codelineno-36-13"></a><span class="w">        </span><span class="mi">20</span><span class="w"> </span><span class="n">RESEARCH</span><span class="w">       </span><span class="n">DALLAS</span>
<a href="#__codelineno-36-14" id="__codelineno-36-14" name="__codelineno-36-14"></a><span class="w">        </span><span class="mi">30</span><span class="w"> </span><span class="n">SALES</span><span class="w">          </span><span class="n">CHICAGO</span>
<a href="#__codelineno-36-15" id="__codelineno-36-15" name="__codelineno-36-15"></a><span class="w">        </span><span class="mi">40</span><span class="w"> </span><span class="n">OPERATIONS</span><span class="w">     </span><span class="n">BOSTON</span>
</code></pre></div>
<p>Pruebo a pasarle el privilegio a <code>TESTING</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-37-1" id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="k">GRANT</span><span class="w"> </span><span class="k">READ</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">dept</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">TESTING</span><span class="p">;</span>
<a href="#__codelineno-37-2" id="__codelineno-37-2" name="__codelineno-37-2"></a>
<a href="#__codelineno-37-3" id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="k">Grant</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<p>Me conecto a <code>TESTING</code> y pruebo que puedo hacer lo mismo:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-38-1" id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">TESTING</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-38-2" id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-38-3" id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-38-4" id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-38-5" id="__codelineno-38-5" name="__codelineno-38-5"></a>
<a href="#__codelineno-38-6" id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<a href="#__codelineno-38-7" id="__codelineno-38-7" name="__codelineno-38-7"></a>
<a href="#__codelineno-38-8" id="__codelineno-38-8" name="__codelineno-38-8"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">dept</span><span class="p">;</span>
<a href="#__codelineno-38-9" id="__codelineno-38-9" name="__codelineno-38-9"></a>
<a href="#__codelineno-38-10" id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="w">    </span><span class="n">DEPTNO</span><span class="w"> </span><span class="n">DNAME</span><span class="w">          </span><span class="n">LOC</span>
<a href="#__codelineno-38-11" id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="c1">---------- -------------- -------------</span>
<a href="#__codelineno-38-12" id="__codelineno-38-12" name="__codelineno-38-12"></a><span class="w">        </span><span class="mi">10</span><span class="w"> </span><span class="n">ACCOUNTING</span><span class="w">     </span><span class="k">NEW</span><span class="w"> </span><span class="n">YORK</span>
<a href="#__codelineno-38-13" id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">        </span><span class="mi">20</span><span class="w"> </span><span class="n">RESEARCH</span><span class="w">       </span><span class="n">DALLAS</span>
<a href="#__codelineno-38-14" id="__codelineno-38-14" name="__codelineno-38-14"></a><span class="w">        </span><span class="mi">30</span><span class="w"> </span><span class="n">SALES</span><span class="w">          </span><span class="n">CHICAGO</span>
<a href="#__codelineno-38-15" id="__codelineno-38-15" name="__codelineno-38-15"></a><span class="w">        </span><span class="mi">40</span><span class="w"> </span><span class="n">OPERATIONS</span><span class="w">     </span><span class="n">BOSTON</span>
</code></pre></div>
<h2 id="ejercicio-7">Ejercicio 7</h2>
<h3 id="7-enunciado">7. Enunciado</h3>
<p>Comprobar que <code>USRPRACTICA1</code> puede realizar todas las operaciones previstas en el rol <code>ROLPRACTICA1</code> (se dio en el <a href="#ejercicio-4">ejercicio 4</a>).</p>
<h3 id="7-realizacion">7. Realización</h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El funcionamiento del rol ya se ha probado en el <a href="#ejercicio-1">ejercicio 1</a></p>
</div>
<h2 id="ejercicio-8">Ejercicio 8</h2>
<h3 id="8-enunciado">8. Enunciado</h3>
<p>Quitar a <code>USRPRACTICA1</code> el privilegio de crear vistas. Comprobar que ya no puede hacerlo.</p>
<h3 id="8-realizacion">8. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-39-1" id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="k">REVOKE</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ROLPRACTICA1</span><span class="p">;</span>
<a href="#__codelineno-39-2" id="__codelineno-39-2" name="__codelineno-39-2"></a>
<a href="#__codelineno-39-3" id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="k">Revoke</span><span class="w"> </span><span class="n">succeeded</span><span class="p">.</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El privilegio <code>CREATE VIEW</code> se dio a <code>ROLPRACTICA1</code>, no a <code>USRPRACTICA1</code>.<br/>
Este usuario puede crear vistas por el rol, no porque tenga el privilegio otorgado directamente, así que el privilegio se tiene que quitar del rol.</p>
</div>
<h3 id="8-comprobaciones">8. Comprobaciones</h3>
<p>Me conecto a <code>USRPRACTICA1</code>, y aprovechando que en el <a href="#ejercicio-6">ejercicio 6</a> se le dio permisos de lectura sobre <code>scott.dept</code>, intento crear una vista de esa tabla:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-40-1" id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-40-2" id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-40-3" id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-40-4" id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-40-5" id="__codelineno-40-5" name="__codelineno-40-5"></a>
<a href="#__codelineno-40-6" id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-41-1" id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">view_dept</span><span class="w"> </span><span class="k">AS</span>
<a href="#__codelineno-41-2" id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<a href="#__codelineno-41-3" id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">scott</span><span class="p">.</span><span class="n">dept</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-42-1" id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">view_dept</span><span class="w"> </span><span class="k">AS</span>
<a href="#__codelineno-42-2" id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">                       </span><span class="o">*</span>
<a href="#__codelineno-42-3" id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-42-4" id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
</code></pre></div>
<h2 id="ejercicio-9">Ejercicio 9</h2>
<h3 id="9-enunciado">9. Enunciado</h3>
<p>Crear el perfil <code>NOPARESDECURRAR</code> que limite a dos el número de minutos de inactividad permitidos en una sesión.</p>
<h3 id="9-realizacion">9. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-43-1" id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">NOPARESDECURRAR</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="n">IDLE_TIME</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a href="#__codelineno-43-2" id="__codelineno-43-2" name="__codelineno-43-2"></a>
<a href="#__codelineno-43-3" id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="n">Profile</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<h3 id="9-comprobaciones">9. Comprobaciones</h3>
<p>Compruebo que se ha creado:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-44-1" id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span><span class="p">,</span><span class="n">resource_name</span><span class="p">,</span><span class="k">limit</span>
<a href="#__codelineno-44-2" id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-44-3" id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'NOPARESDECURRAR'</span><span class="p">;</span>
<a href="#__codelineno-44-4" id="__codelineno-44-4" name="__codelineno-44-4"></a>
<a href="#__codelineno-44-5" id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="n">PROFILE</span><span class="w">                                                                                                                          </span><span class="n">RESOURCE_NAME</span><span class="w">                    </span><span class="k">LIMIT</span>
<a href="#__codelineno-44-6" id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="c1">-------------------------------------------------------------------------------------------------------------------------------- -------------------------------- --------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-44-7" id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">COMPOSITE_LIMIT</span><span class="w">                  </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-8" id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">SESSIONS_PER_USER</span><span class="w">                </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-9" id="__codelineno-44-9" name="__codelineno-44-9"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">CPU_PER_SESSION</span><span class="w">                  </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-10" id="__codelineno-44-10" name="__codelineno-44-10"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">CPU_PER_CALL</span><span class="w">                     </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-11" id="__codelineno-44-11" name="__codelineno-44-11"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">LOGICAL_READS_PER_SESSION</span><span class="w">        </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-12" id="__codelineno-44-12" name="__codelineno-44-12"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">LOGICAL_READS_PER_CALL</span><span class="w">           </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-13" id="__codelineno-44-13" name="__codelineno-44-13"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">IDLE_TIME</span><span class="w">                        </span><span class="mi">2</span>
<a href="#__codelineno-44-14" id="__codelineno-44-14" name="__codelineno-44-14"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">CONNECT_TIME</span><span class="w">                     </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-15" id="__codelineno-44-15" name="__codelineno-44-15"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PRIVATE_SGA</span><span class="w">                      </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-16" id="__codelineno-44-16" name="__codelineno-44-16"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">FAILED_LOGIN_ATTEMPTS</span><span class="w">            </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-17" id="__codelineno-44-17" name="__codelineno-44-17"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_LIFE_TIME</span><span class="w">               </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-18" id="__codelineno-44-18" name="__codelineno-44-18"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_REUSE_TIME</span><span class="w">              </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-19" id="__codelineno-44-19" name="__codelineno-44-19"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_REUSE_MAX</span><span class="w">               </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-20" id="__codelineno-44-20" name="__codelineno-44-20"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_VERIFY_FUNCTION</span><span class="w">         </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-21" id="__codelineno-44-21" name="__codelineno-44-21"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_LOCK_TIME</span><span class="w">               </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-22" id="__codelineno-44-22" name="__codelineno-44-22"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">PASSWORD_GRACE_TIME</span><span class="w">              </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-23" id="__codelineno-44-23" name="__codelineno-44-23"></a><span class="n">NOPARESDECURRAR</span><span class="w">                                                                                                                  </span><span class="n">INACTIVE_ACCOUNT_TIME</span><span class="w">            </span><span class="k">DEFAULT</span>
<a href="#__codelineno-44-24" id="__codelineno-44-24" name="__codelineno-44-24"></a>
<a href="#__codelineno-44-25" id="__codelineno-44-25" name="__codelineno-44-25"></a><span class="mi">17</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Aunque no se lo indiquemos, Oracle nos añade unos límites por defecto, pero lo importante es que el límite que nosotros hemos añadido es correcto</p>
</div>
<h2 id="ejercicio-10">Ejercicio 10</h2>
<h3 id="10-enunciado">10. Enunciado</h3>
<p>Activar el uso de perfiles.</p>
<h3 id="10-realizacion">10. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-45-1" id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">RESOURCE_LIMIT</span><span class="o">=</span><span class="k">TRUE</span><span class="p">;</span>
<a href="#__codelineno-45-2" id="__codelineno-45-2" name="__codelineno-45-2"></a>
<a href="#__codelineno-45-3" id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="k">System</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<h3 id="10-comprobaciones">10. Comprobaciones</h3>
<p>Compruebo el estado del parámetro:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-46-1" id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="k">show</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">resource_limit</span><span class="p">;</span>
<a href="#__codelineno-46-2" id="__codelineno-46-2" name="__codelineno-46-2"></a>
<a href="#__codelineno-46-3" id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="n">NAME</span><span class="w">                                 </span><span class="k">TYPE</span><span class="w">        </span><span class="n">VALUE</span>
<a href="#__codelineno-46-4" id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="c1">------------------------------------ ----------- ------------------------------</span>
<a href="#__codelineno-46-5" id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="n">resource_limit</span><span class="w">                       </span><span class="nb">boolean</span><span class="w">     </span><span class="k">TRUE</span>
</code></pre></div>
<h2 id="ejercicio-11">Ejercicio 11</h2>
<h3 id="11-enunciado">11. Enunciado</h3>
<p>Asignar el perfil creado a <code>USRPRACTICA1</code> y comprobar su correcto funcionamiento.</p>
<h3 id="11-realizacion">11. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-47-1" id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">NOPARESDECURRAR</span><span class="p">;</span>
<a href="#__codelineno-47-2" id="__codelineno-47-2" name="__codelineno-47-2"></a>
<a href="#__codelineno-47-3" id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<h3 id="11-comprobaciones">11. Comprobaciones</h3>
<p>Me conecto a <code>USRPRACTICA1</code> y tras 2 minutos, esto es lo que pasa:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-48-1" id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-48-2" id="__codelineno-48-2" name="__codelineno-48-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-48-3" id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-48-4" id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-48-5" id="__codelineno-48-5" name="__codelineno-48-5"></a>
<a href="#__codelineno-48-6" id="__codelineno-48-6" name="__codelineno-48-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
<a href="#__codelineno-48-7" id="__codelineno-48-7" name="__codelineno-48-7"></a>
<a href="#__codelineno-48-8" id="__codelineno-48-8" name="__codelineno-48-8"></a><span class="k">select</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a href="#__codelineno-48-9" id="__codelineno-48-9" name="__codelineno-48-9"></a><span class="k">select</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span>
<a href="#__codelineno-48-10" id="__codelineno-48-10" name="__codelineno-48-10"></a><span class="o">*</span>
<a href="#__codelineno-48-11" id="__codelineno-48-11" name="__codelineno-48-11"></a><span class="n">ERROR</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<a href="#__codelineno-48-12" id="__codelineno-48-12" name="__codelineno-48-12"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">02396</span><span class="p">:</span><span class="w"> </span><span class="n">exceeded</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">idle</span><span class="w"> </span><span class="k">time</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="n">again</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Cuando sobrepasamos el tiempo de inactividad no se corta la conexión automáticamente.<br/>
El error aparecerá cuando intentemos realizar alguna acción, por eso he escrito un comando de ejemplo para la prueba</p>
</div>
<h2 id="ejercicio-12">Ejercicio 12</h2>
<h3 id="12-enunciado">12. Enunciado</h3>
<p>Crear el perfil <code>CONTRASENASEGURA</code> con los límites:</p>
<ul>
<li>Caducidad mensual</li>
<li>Máximo tres intentos fallidos permitidos de acceso</li>
<li>Bloqueo de cuenta indefinido si se superan los intentos</li>
</ul>
<h3 id="12-realizacion">12. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-49-1" id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">CONTRASENASEGURA</span><span class="w"> </span><span class="k">LIMIT</span>
<a href="#__codelineno-49-2" id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="w">    </span><span class="n">PASSWORD_LIFE_TIME</span><span class="w"> </span><span class="mi">30</span>
<a href="#__codelineno-49-3" id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="w">    </span><span class="n">FAILED_LOGIN_ATTEMPTS</span><span class="w"> </span><span class="mi">4</span>
<a href="#__codelineno-49-4" id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="w">    </span><span class="n">PASSWORD_LOCK_TIME</span><span class="w"> </span><span class="n">UNLIMITED</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-50-1" id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="n">Profile</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
</code></pre></div>
<h3 id="12-comprobaciones">12. Comprobaciones</h3>
<p>Muestro que se ha creado con los límites dichos:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-51-1" id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span><span class="p">,</span><span class="n">resource_name</span><span class="p">,</span><span class="k">limit</span>
<a href="#__codelineno-51-2" id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-51-3" id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'CONTRASENASEGURA'</span>
<a href="#__codelineno-51-4" id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">resource_name</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'PASSWORD_LIFE_TIME'</span><span class="p">,</span><span class="s1">'FAILED_LOGIN_ATTEMPTS'</span><span class="p">,</span><span class="s1">'PASSWORD_LOCK_TIME'</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-52-1" id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="n">PROFILE</span><span class="w">                                                                                                                          </span><span class="n">RESOURCE_NAME</span><span class="w">                    </span><span class="k">LIMIT</span>
<a href="#__codelineno-52-2" id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="c1">-------------------------------------------------------------------------------------------------------------------------------- -------------------------------- --------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-52-3" id="__codelineno-52-3" name="__codelineno-52-3"></a><span class="n">CONTRASENASEGURA</span><span class="w">                                                                                                                 </span><span class="n">FAILED_LOGIN_ATTEMPTS</span><span class="w">            </span><span class="mi">4</span>
<a href="#__codelineno-52-4" id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="n">CONTRASENASEGURA</span><span class="w">                                                                                                                 </span><span class="n">PASSWORD_LIFE_TIME</span><span class="w">               </span><span class="mi">30</span>
<a href="#__codelineno-52-5" id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="n">CONTRASENASEGURA</span><span class="w">                                                                                                                 </span><span class="n">PASSWORD_LOCK_TIME</span><span class="w">               </span><span class="n">UNLIMITED</span>
</code></pre></div>
<h2 id="ejercicio-13">Ejercicio 13</h2>
<h3 id="13-enunciado">13. Enunciado</h3>
<p>Asignar el perfil <code>CONTRASENASEGURA</code> a <code>USRPRACTICA1</code> y comprobar su funcionamiento. Desbloquear posteriormente al usuario.</p>
<h3 id="13-realizacion">13. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-53-1" id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">CONTRASENASEGURA</span><span class="p">;</span>
<a href="#__codelineno-53-2" id="__codelineno-53-2" name="__codelineno-53-2"></a>
<a href="#__codelineno-53-3" id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<h3 id="13-comprobaciones">13. Comprobaciones</h3>
<p>Me equivoco 4 veces en la contraseña para probar el funcionamiento:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-54-1" id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">123</span>
<a href="#__codelineno-54-2" id="__codelineno-54-2" name="__codelineno-54-2"></a><span class="n">ERROR</span><span class="p">:</span>
<a href="#__codelineno-54-3" id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01017</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">username</span><span class="o">/</span><span class="n">password</span><span class="p">;</span><span class="w"> </span><span class="n">logon</span><span class="w"> </span><span class="n">denied</span>
<a href="#__codelineno-54-4" id="__codelineno-54-4" name="__codelineno-54-4"></a>
<a href="#__codelineno-54-5" id="__codelineno-54-5" name="__codelineno-54-5"></a>
<a href="#__codelineno-54-6" id="__codelineno-54-6" name="__codelineno-54-6"></a><span class="n">Warning</span><span class="p">:</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">ORACLE</span><span class="p">.</span>
<a href="#__codelineno-54-7" id="__codelineno-54-7" name="__codelineno-54-7"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">123</span>
<a href="#__codelineno-54-8" id="__codelineno-54-8" name="__codelineno-54-8"></a><span class="n">ERROR</span><span class="p">:</span>
<a href="#__codelineno-54-9" id="__codelineno-54-9" name="__codelineno-54-9"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01017</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">username</span><span class="o">/</span><span class="n">password</span><span class="p">;</span><span class="w"> </span><span class="n">logon</span><span class="w"> </span><span class="n">denied</span>
<a href="#__codelineno-54-10" id="__codelineno-54-10" name="__codelineno-54-10"></a>
<a href="#__codelineno-54-11" id="__codelineno-54-11" name="__codelineno-54-11"></a>
<a href="#__codelineno-54-12" id="__codelineno-54-12" name="__codelineno-54-12"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">123</span>
<a href="#__codelineno-54-13" id="__codelineno-54-13" name="__codelineno-54-13"></a><span class="n">ERROR</span><span class="p">:</span>
<a href="#__codelineno-54-14" id="__codelineno-54-14" name="__codelineno-54-14"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01017</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">username</span><span class="o">/</span><span class="n">password</span><span class="p">;</span><span class="w"> </span><span class="n">logon</span><span class="w"> </span><span class="n">denied</span>
<a href="#__codelineno-54-15" id="__codelineno-54-15" name="__codelineno-54-15"></a>
<a href="#__codelineno-54-16" id="__codelineno-54-16" name="__codelineno-54-16"></a>
<a href="#__codelineno-54-17" id="__codelineno-54-17" name="__codelineno-54-17"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">123</span>
<a href="#__codelineno-54-18" id="__codelineno-54-18" name="__codelineno-54-18"></a><span class="n">ERROR</span><span class="p">:</span>
<a href="#__codelineno-54-19" id="__codelineno-54-19" name="__codelineno-54-19"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01017</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">username</span><span class="o">/</span><span class="n">password</span><span class="p">;</span><span class="w"> </span><span class="n">logon</span><span class="w"> </span><span class="n">denied</span>
<a href="#__codelineno-54-20" id="__codelineno-54-20" name="__codelineno-54-20"></a>
<a href="#__codelineno-54-21" id="__codelineno-54-21" name="__codelineno-54-21"></a>
<a href="#__codelineno-54-22" id="__codelineno-54-22" name="__codelineno-54-22"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-54-23" id="__codelineno-54-23" name="__codelineno-54-23"></a><span class="n">ERROR</span><span class="p">:</span>
<a href="#__codelineno-54-24" id="__codelineno-54-24" name="__codelineno-54-24"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">28000</span><span class="p">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">locked</span><span class="p">.</span>
</code></pre></div>
<p>Como vemos, aunque Oracle no nos avise explícitamente, al 4 intento fallido la cuenta se ha bloqueado.  </p>
<p>Lo sabemos porque si intentamos acceder una 5 vez, aunque sea con la contraseña correcta, nos dará el error <code>ORA-28000: The account is locked.</code></p>
<p>Desbloqueo la cuenta:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-55-1" id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="n">ACCOUNT</span><span class="w"> </span><span class="n">UNLOCK</span><span class="p">;</span>
<a href="#__codelineno-55-2" id="__codelineno-55-2" name="__codelineno-55-2"></a>
<a href="#__codelineno-55-3" id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<p>Pruebo que se ha desbloqueado:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-56-1" id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="k">connect</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="o">/</span><span class="mi">1234</span>
<a href="#__codelineno-56-2" id="__codelineno-56-2" name="__codelineno-56-2"></a><span class="n">Connected</span><span class="p">.</span>
<a href="#__codelineno-56-3" id="__codelineno-56-3" name="__codelineno-56-3"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01031</span><span class="p">:</span><span class="w"> </span><span class="n">insufficient</span><span class="w"> </span><span class="k">privileges</span>
<a href="#__codelineno-56-4" id="__codelineno-56-4" name="__codelineno-56-4"></a><span class="n">ORA</span><span class="o">-</span><span class="mi">01078</span><span class="p">:</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">parameters</span>
<a href="#__codelineno-56-5" id="__codelineno-56-5" name="__codelineno-56-5"></a>
<a href="#__codelineno-56-6" id="__codelineno-56-6" name="__codelineno-56-6"></a><span class="k">Session</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-14">Ejercicio 14</h2>
<h3 id="14-enunciado">14. Enunciado</h3>
<p>Consultar qué usuarios existen en la base de datos.</p>
<h3 id="14-realizacion">14. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-57-1" id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">USERNAME</span>
<a href="#__codelineno-57-2" id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span><span class="p">;</span>
<a href="#__codelineno-57-3" id="__codelineno-57-3" name="__codelineno-57-3"></a>
<a href="#__codelineno-57-4" id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="n">USERNAME</span>
<a href="#__codelineno-57-5" id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-57-6" id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="n">SYS</span>
<a href="#__codelineno-57-7" id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="k">SYSTEM</span>
<a href="#__codelineno-57-8" id="__codelineno-57-8" name="__codelineno-57-8"></a><span class="n">XS$NULL</span>
<a href="#__codelineno-57-9" id="__codelineno-57-9" name="__codelineno-57-9"></a><span class="n">OJVMSYS</span>
<a href="#__codelineno-57-10" id="__codelineno-57-10" name="__codelineno-57-10"></a><span class="n">LBACSYS</span>
<a href="#__codelineno-57-11" id="__codelineno-57-11" name="__codelineno-57-11"></a><span class="n">OUTLN</span>
<a href="#__codelineno-57-12" id="__codelineno-57-12" name="__codelineno-57-12"></a><span class="n">SYS$UMF</span>
<a href="#__codelineno-57-13" id="__codelineno-57-13" name="__codelineno-57-13"></a><span class="n">DBSNMP</span>
<a href="#__codelineno-57-14" id="__codelineno-57-14" name="__codelineno-57-14"></a><span class="n">APPQOSSYS</span>
<a href="#__codelineno-57-15" id="__codelineno-57-15" name="__codelineno-57-15"></a><span class="n">DBSFWUSER</span>
<a href="#__codelineno-57-16" id="__codelineno-57-16" name="__codelineno-57-16"></a><span class="n">GGSYS</span>
<a href="#__codelineno-57-17" id="__codelineno-57-17" name="__codelineno-57-17"></a><span class="n">ANONYMOUS</span>
<a href="#__codelineno-57-18" id="__codelineno-57-18" name="__codelineno-57-18"></a><span class="n">CTXSYS</span>
<a href="#__codelineno-57-19" id="__codelineno-57-19" name="__codelineno-57-19"></a><span class="n">DVSYS</span>
<a href="#__codelineno-57-20" id="__codelineno-57-20" name="__codelineno-57-20"></a><span class="n">DVF</span>
<a href="#__codelineno-57-21" id="__codelineno-57-21" name="__codelineno-57-21"></a><span class="n">GSMADMIN_INTERNAL</span>
<a href="#__codelineno-57-22" id="__codelineno-57-22" name="__codelineno-57-22"></a><span class="n">MDSYS</span>
<a href="#__codelineno-57-23" id="__codelineno-57-23" name="__codelineno-57-23"></a><span class="n">OLAPSYS</span>
<a href="#__codelineno-57-24" id="__codelineno-57-24" name="__codelineno-57-24"></a><span class="n">XDB</span>
<a href="#__codelineno-57-25" id="__codelineno-57-25" name="__codelineno-57-25"></a><span class="n">WMSYS</span>
<a href="#__codelineno-57-26" id="__codelineno-57-26" name="__codelineno-57-26"></a><span class="n">GSMCATUSER</span>
<a href="#__codelineno-57-27" id="__codelineno-57-27" name="__codelineno-57-27"></a><span class="n">MDDATA</span>
<a href="#__codelineno-57-28" id="__codelineno-57-28" name="__codelineno-57-28"></a><span class="n">BECARIO</span>
<a href="#__codelineno-57-29" id="__codelineno-57-29" name="__codelineno-57-29"></a><span class="n">SYSBACKUP</span>
<a href="#__codelineno-57-30" id="__codelineno-57-30" name="__codelineno-57-30"></a><span class="n">REMOTE_SCHEDULER_AGENT</span>
<a href="#__codelineno-57-31" id="__codelineno-57-31" name="__codelineno-57-31"></a><span class="n">GSMUSER</span>
<a href="#__codelineno-57-32" id="__codelineno-57-32" name="__codelineno-57-32"></a><span class="n">SYSRAC</span>
<a href="#__codelineno-57-33" id="__codelineno-57-33" name="__codelineno-57-33"></a><span class="n">GSMROOTUSER</span>
<a href="#__codelineno-57-34" id="__codelineno-57-34" name="__codelineno-57-34"></a><span class="n">SI_INFORMTN_SCHEMA</span>
<a href="#__codelineno-57-35" id="__codelineno-57-35" name="__codelineno-57-35"></a><span class="n">AUDSYS</span>
<a href="#__codelineno-57-36" id="__codelineno-57-36" name="__codelineno-57-36"></a><span class="n">EXAMENBD34</span>
<a href="#__codelineno-57-37" id="__codelineno-57-37" name="__codelineno-57-37"></a><span class="n">DIP</span>
<a href="#__codelineno-57-38" id="__codelineno-57-38" name="__codelineno-57-38"></a><span class="n">ORDPLUGINS</span>
<a href="#__codelineno-57-39" id="__codelineno-57-39" name="__codelineno-57-39"></a><span class="n">TESTING</span>
<a href="#__codelineno-57-40" id="__codelineno-57-40" name="__codelineno-57-40"></a><span class="n">SYSKM</span>
<a href="#__codelineno-57-41" id="__codelineno-57-41" name="__codelineno-57-41"></a><span class="n">ORDDATA</span>
<a href="#__codelineno-57-42" id="__codelineno-57-42" name="__codelineno-57-42"></a><span class="n">ORACLE_OCM</span>
<a href="#__codelineno-57-43" id="__codelineno-57-43" name="__codelineno-57-43"></a><span class="n">SCOTT</span>
<a href="#__codelineno-57-44" id="__codelineno-57-44" name="__codelineno-57-44"></a><span class="n">HIPODROMO</span>
<a href="#__codelineno-57-45" id="__codelineno-57-45" name="__codelineno-57-45"></a><span class="n">SYSDG</span>
<a href="#__codelineno-57-46" id="__codelineno-57-46" name="__codelineno-57-46"></a><span class="n">ORDSYS</span>
<a href="#__codelineno-57-47" id="__codelineno-57-47" name="__codelineno-57-47"></a><span class="n">USRPRACTICA1</span>
<a href="#__codelineno-57-48" id="__codelineno-57-48" name="__codelineno-57-48"></a>
<a href="#__codelineno-57-49" id="__codelineno-57-49" name="__codelineno-57-49"></a><span class="mi">42</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-15">Ejercicio 15</h2>
<h3 id="15-enunciado">15. Enunciado</h3>
<p>Elegir un usuario concreto y consultar qué cuota tiene sobre cada uno de los tablespaces.</p>
<h3 id="15-realizacion">15. Realización</h3>
<p>Elijo <code>AUDSYS</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-58-1" id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">max_bytes</span>
<a href="#__codelineno-58-2" id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TS_QUOTAS</span>
<a href="#__codelineno-58-3" id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'AUDSYS'</span><span class="p">;</span>
<a href="#__codelineno-58-4" id="__codelineno-58-4" name="__codelineno-58-4"></a>
<a href="#__codelineno-58-5" id="__codelineno-58-5" name="__codelineno-58-5"></a><span class="n">TABLESPACE_NAME</span><span class="w">                </span><span class="n">USERNA</span><span class="w">  </span><span class="n">MAX_BYTES</span>
<a href="#__codelineno-58-6" id="__codelineno-58-6" name="__codelineno-58-6"></a><span class="c1">------------------------------ ------ ----------</span>
<a href="#__codelineno-58-7" id="__codelineno-58-7" name="__codelineno-58-7"></a><span class="n">SYSAUX</span><span class="w">                         </span><span class="n">AUDSYS</span><span class="w">         </span><span class="o">-</span><span class="mi">1</span>
</code></pre></div>
<p>Sólo tiene cuota sobre 1 tablespace, <code>SYSAUX</code>, y el tamaño -1 quiere decir que es ilimitada.</p>
<h2 id="ejercicio-16">Ejercicio 16</h2>
<h3 id="16-enunciado">16. Enunciado</h3>
<p>Elegir un usuario concreto y mostrar qué privilegios de sistema tiene asignados.</p>
<h3 id="16-realizacion">16. Realización</h3>
<p>Elijo <code>SYSTEM</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-59-1" id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">privilege</span>
<a href="#__codelineno-59-2" id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_SYS_PRIVS</span>
<a href="#__codelineno-59-3" id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SYSTEM'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-60-1" id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="n">PRIVILEGE</span>
<a href="#__codelineno-60-2" id="__codelineno-60-2" name="__codelineno-60-2"></a><span class="c1">----------------------------------------</span>
<a href="#__codelineno-60-3" id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="k">GLOBAL</span><span class="w"> </span><span class="n">QUERY</span><span class="w"> </span><span class="n">REWRITE</span>
<a href="#__codelineno-60-4" id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span>
<a href="#__codelineno-60-5" id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="n">DEQUEUE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="n">QUEUE</span>
<a href="#__codelineno-60-6" id="__codelineno-60-6" name="__codelineno-60-6"></a><span class="n">ENQUEUE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="n">QUEUE</span>
<a href="#__codelineno-60-7" id="__codelineno-60-7" name="__codelineno-60-7"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">TABLE</span>
<a href="#__codelineno-60-8" id="__codelineno-60-8" name="__codelineno-60-8"></a><span class="n">MANAGE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="n">QUEUE</span>
<a href="#__codelineno-60-9" id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="n">UNLIMITED</span><span class="w"> </span><span class="n">TABLESPACE</span>
<a href="#__codelineno-60-10" id="__codelineno-60-10" name="__codelineno-60-10"></a><span class="k">CREATE</span><span class="w"> </span><span class="n">MATERIALIZED</span><span class="w"> </span><span class="k">VIEW</span>
<a href="#__codelineno-60-11" id="__codelineno-60-11" name="__codelineno-60-11"></a>
<a href="#__codelineno-60-12" id="__codelineno-60-12" name="__codelineno-60-12"></a><span class="mi">8</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-17">Ejercicio 17</h2>
<h3 id="17-enunciado">17. Enunciado</h3>
<p>Elegir un usuario concreto y mostrar qué privilegios sobre objetos tiene asignados.</p>
<h3 id="17-realizacion">17. Realización</h3>
<p>Elijo <code>SYS</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-61-1" id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">privilege</span><span class="p">,</span><span class="k">table_name</span>
<a href="#__codelineno-61-2" id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_TAB_PRIVS</span>
<a href="#__codelineno-61-3" id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SYS'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-62-1" id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="n">PRIVILEGE</span><span class="w">                                </span><span class="k">TABLE_NAME</span>
<a href="#__codelineno-62-2" id="__codelineno-62-2" name="__codelineno-62-2"></a><span class="c1">---------------------------------------- --------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-62-3" id="__codelineno-62-3" name="__codelineno-62-3"></a><span class="k">EXECUTE</span><span class="w">                                  </span><span class="n">LBAC_STANDARD</span>
<a href="#__codelineno-62-4" id="__codelineno-62-4" name="__codelineno-62-4"></a><span class="k">EXECUTE</span><span class="w">                                  </span><span class="n">LBAC_SERVICES</span>
<a href="#__codelineno-62-5" id="__codelineno-62-5" name="__codelineno-62-5"></a><span class="k">SELECT</span><span class="w">                                   </span><span class="n">DBA_DV_STATUS</span>
<a href="#__codelineno-62-6" id="__codelineno-62-6" name="__codelineno-62-6"></a><span class="k">EXECUTE</span><span class="w">                                  </span><span class="n">CONFIGURE_DV_INTERNAL</span>
<a href="#__codelineno-62-7" id="__codelineno-62-7" name="__codelineno-62-7"></a><span class="k">SELECT</span><span class="w">                                   </span><span class="n">OL$</span>
<a href="#__codelineno-62-8" id="__codelineno-62-8" name="__codelineno-62-8"></a><span class="k">SELECT</span><span class="w">                                   </span><span class="n">OL$HINTS</span>
<a href="#__codelineno-62-9" id="__codelineno-62-9" name="__codelineno-62-9"></a><span class="k">SELECT</span><span class="w">                                   </span><span class="n">OL$NODES</span>
<a href="#__codelineno-62-10" id="__codelineno-62-10" name="__codelineno-62-10"></a>
<a href="#__codelineno-62-11" id="__codelineno-62-11" name="__codelineno-62-11"></a><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-18">Ejercicio 18</h2>
<h3 id="18-enunciado">18. Enunciado</h3>
<p>Consultar qué roles existen en la base de datos.</p>
<h3 id="18-realizacion">18. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-63-1" id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">role</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLES</span><span class="p">;</span>
</code></pre></div>
<p><a href="https://gist.github.com/adriasir123/51f018d18d794f9d66db8c72aa6a7134">Output largo</a></p>
<h2 id="ejercicio-19">Ejercicio 19</h2>
<h3 id="19-enunciado">19. Enunciado</h3>
<p>Elegir un rol concreto y consultar qué usuarios lo tienen asignado.</p>
<h3 id="19-realizacion">19. Realización</h3>
<p>Elijo <code>CONNECT</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-64-1" id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">grantee</span>
<a href="#__codelineno-64-2" id="__codelineno-64-2" name="__codelineno-64-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<a href="#__codelineno-64-3" id="__codelineno-64-3" name="__codelineno-64-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">granted_role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'CONNECT'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-65-1" id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="n">GRANTEE</span>
<a href="#__codelineno-65-2" id="__codelineno-65-2" name="__codelineno-65-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-65-3" id="__codelineno-65-3" name="__codelineno-65-3"></a><span class="n">SYS</span>
<a href="#__codelineno-65-4" id="__codelineno-65-4" name="__codelineno-65-4"></a><span class="n">DV_ACCTMGR</span>
<a href="#__codelineno-65-5" id="__codelineno-65-5" name="__codelineno-65-5"></a><span class="n">GSMADMIN_ROLE</span>
<a href="#__codelineno-65-6" id="__codelineno-65-6" name="__codelineno-65-6"></a><span class="n">GSM_POOLADMIN_ROLE</span>
<a href="#__codelineno-65-7" id="__codelineno-65-7" name="__codelineno-65-7"></a><span class="n">GSMROOTUSER_ROLE</span>
<a href="#__codelineno-65-8" id="__codelineno-65-8" name="__codelineno-65-8"></a><span class="n">SCOTT</span>
<a href="#__codelineno-65-9" id="__codelineno-65-9" name="__codelineno-65-9"></a>
<a href="#__codelineno-65-10" id="__codelineno-65-10" name="__codelineno-65-10"></a><span class="mi">6</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-20">Ejercicio 20</h2>
<h3 id="20-enunciado">20. Enunciado</h3>
<p>Elegir un rol concreto y averiguar si está compuesto por otros roles o no.</p>
<h3 id="20-realizacion">20. Realización</h3>
<p>Elijo <code>DBA</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-66-1" id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<a href="#__codelineno-66-2" id="__codelineno-66-2" name="__codelineno-66-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<a href="#__codelineno-66-3" id="__codelineno-66-3" name="__codelineno-66-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'DBA'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-67-1" id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="n">GRANTED_ROLE</span>
<a href="#__codelineno-67-2" id="__codelineno-67-2" name="__codelineno-67-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-67-3" id="__codelineno-67-3" name="__codelineno-67-3"></a><span class="n">EXECUTE_CATALOG_ROLE</span>
<a href="#__codelineno-67-4" id="__codelineno-67-4" name="__codelineno-67-4"></a><span class="n">DATAPUMP_IMP_FULL_DATABASE</span>
<a href="#__codelineno-67-5" id="__codelineno-67-5" name="__codelineno-67-5"></a><span class="n">SCHEDULER_ADMIN</span>
<a href="#__codelineno-67-6" id="__codelineno-67-6" name="__codelineno-67-6"></a><span class="n">XDBADMIN</span>
<a href="#__codelineno-67-7" id="__codelineno-67-7" name="__codelineno-67-7"></a><span class="n">OLAP_DBA</span>
<a href="#__codelineno-67-8" id="__codelineno-67-8" name="__codelineno-67-8"></a><span class="n">CAPTURE_ADMIN</span>
<a href="#__codelineno-67-9" id="__codelineno-67-9" name="__codelineno-67-9"></a><span class="n">SELECT_CATALOG_ROLE</span>
<a href="#__codelineno-67-10" id="__codelineno-67-10" name="__codelineno-67-10"></a><span class="n">DATAPUMP_EXP_FULL_DATABASE</span>
<a href="#__codelineno-67-11" id="__codelineno-67-11" name="__codelineno-67-11"></a><span class="n">GATHER_SYSTEM_STATISTICS</span>
<a href="#__codelineno-67-12" id="__codelineno-67-12" name="__codelineno-67-12"></a><span class="n">WM_ADMIN_ROLE</span>
<a href="#__codelineno-67-13" id="__codelineno-67-13" name="__codelineno-67-13"></a><span class="n">EXP_FULL_DATABASE</span>
<a href="#__codelineno-67-14" id="__codelineno-67-14" name="__codelineno-67-14"></a><span class="n">OPTIMIZER_PROCESSING_RATE</span>
<a href="#__codelineno-67-15" id="__codelineno-67-15" name="__codelineno-67-15"></a><span class="n">EM_EXPRESS_ALL</span>
<a href="#__codelineno-67-16" id="__codelineno-67-16" name="__codelineno-67-16"></a><span class="n">IMP_FULL_DATABASE</span>
<a href="#__codelineno-67-17" id="__codelineno-67-17" name="__codelineno-67-17"></a><span class="n">XDB_SET_INVOKER</span>
<a href="#__codelineno-67-18" id="__codelineno-67-18" name="__codelineno-67-18"></a><span class="n">JAVA_ADMIN</span>
<a href="#__codelineno-67-19" id="__codelineno-67-19" name="__codelineno-67-19"></a><span class="n">OLAP_XS_ADMIN</span>
<a href="#__codelineno-67-20" id="__codelineno-67-20" name="__codelineno-67-20"></a>
<a href="#__codelineno-67-21" id="__codelineno-67-21" name="__codelineno-67-21"></a><span class="mi">17</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<p>Esos son todos los roles por los que está compuesto el rol <code>DBA</code>.</p>
<h2 id="ejercicio-21">Ejercicio 21</h2>
<h3 id="21-enunciado">21. Enunciado</h3>
<p>Consultar qué perfiles existen en la base de datos.</p>
<h3 id="21-realizacion">21. Realización</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-68-1" id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">profile</span>
<a href="#__codelineno-68-2" id="__codelineno-68-2" name="__codelineno-68-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span><span class="p">;</span>
<a href="#__codelineno-68-3" id="__codelineno-68-3" name="__codelineno-68-3"></a>
<a href="#__codelineno-68-4" id="__codelineno-68-4" name="__codelineno-68-4"></a><span class="n">PROFILE</span>
<a href="#__codelineno-68-5" id="__codelineno-68-5" name="__codelineno-68-5"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-68-6" id="__codelineno-68-6" name="__codelineno-68-6"></a><span class="n">CONTRASENASEGURA</span>
<a href="#__codelineno-68-7" id="__codelineno-68-7" name="__codelineno-68-7"></a><span class="k">DEFAULT</span>
<a href="#__codelineno-68-8" id="__codelineno-68-8" name="__codelineno-68-8"></a><span class="n">NOPARESDECURRAR</span>
<a href="#__codelineno-68-9" id="__codelineno-68-9" name="__codelineno-68-9"></a><span class="n">ORA_STIG_PROFILE</span>
</code></pre></div>
<h2 id="ejercicio-22">Ejercicio 22</h2>
<h3 id="22-enunciado">22. Enunciado</h3>
<p>Elegir un perfil y consultar qué límites se establecen en el mismo.</p>
<h3 id="22-realizacion">22. Realización</h3>
<p>Elijo <code>DEFAULT</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-69-1" id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">resource_name</span><span class="p">,</span><span class="k">limit</span>
<a href="#__codelineno-69-2" id="__codelineno-69-2" name="__codelineno-69-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-69-3" id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'DEFAULT'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-70-1" id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="n">RESOURCE_NAME</span><span class="w">                    </span><span class="k">LIMIT</span>
<a href="#__codelineno-70-2" id="__codelineno-70-2" name="__codelineno-70-2"></a><span class="c1">-------------------------------- --------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-70-3" id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="n">COMPOSITE_LIMIT</span><span class="w">                  </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-4" id="__codelineno-70-4" name="__codelineno-70-4"></a><span class="n">SESSIONS_PER_USER</span><span class="w">                </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-5" id="__codelineno-70-5" name="__codelineno-70-5"></a><span class="n">CPU_PER_SESSION</span><span class="w">                  </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-6" id="__codelineno-70-6" name="__codelineno-70-6"></a><span class="n">CPU_PER_CALL</span><span class="w">                     </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-7" id="__codelineno-70-7" name="__codelineno-70-7"></a><span class="n">LOGICAL_READS_PER_SESSION</span><span class="w">        </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-8" id="__codelineno-70-8" name="__codelineno-70-8"></a><span class="n">LOGICAL_READS_PER_CALL</span><span class="w">           </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-9" id="__codelineno-70-9" name="__codelineno-70-9"></a><span class="n">IDLE_TIME</span><span class="w">                        </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-10" id="__codelineno-70-10" name="__codelineno-70-10"></a><span class="n">CONNECT_TIME</span><span class="w">                     </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-11" id="__codelineno-70-11" name="__codelineno-70-11"></a><span class="n">PRIVATE_SGA</span><span class="w">                      </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-12" id="__codelineno-70-12" name="__codelineno-70-12"></a><span class="n">FAILED_LOGIN_ATTEMPTS</span><span class="w">            </span><span class="mi">10</span>
<a href="#__codelineno-70-13" id="__codelineno-70-13" name="__codelineno-70-13"></a><span class="n">PASSWORD_LIFE_TIME</span><span class="w">               </span><span class="mi">180</span>
<a href="#__codelineno-70-14" id="__codelineno-70-14" name="__codelineno-70-14"></a><span class="n">PASSWORD_REUSE_TIME</span><span class="w">              </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-15" id="__codelineno-70-15" name="__codelineno-70-15"></a><span class="n">PASSWORD_REUSE_MAX</span><span class="w">               </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-16" id="__codelineno-70-16" name="__codelineno-70-16"></a><span class="n">PASSWORD_VERIFY_FUNCTION</span><span class="w">         </span><span class="k">NULL</span>
<a href="#__codelineno-70-17" id="__codelineno-70-17" name="__codelineno-70-17"></a><span class="n">PASSWORD_LOCK_TIME</span><span class="w">               </span><span class="mi">1</span>
<a href="#__codelineno-70-18" id="__codelineno-70-18" name="__codelineno-70-18"></a><span class="n">PASSWORD_GRACE_TIME</span><span class="w">              </span><span class="mi">7</span>
<a href="#__codelineno-70-19" id="__codelineno-70-19" name="__codelineno-70-19"></a><span class="n">INACTIVE_ACCOUNT_TIME</span><span class="w">            </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-70-20" id="__codelineno-70-20" name="__codelineno-70-20"></a>
<a href="#__codelineno-70-21" id="__codelineno-70-21" name="__codelineno-70-21"></a><span class="mi">17</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-23">Ejercicio 23</h2>
<h3 id="23-enunciado">23. Enunciado</h3>
<p>Mostrar los nombres de los usuarios que tienen limitado el número de sesiones concurrentes.</p>
<h3 id="23-realizacion">23. Realización</h3>
<p>Ahora mismo no tengo ningún perfil que tenga <code>SESSIONS_PER_USER</code> limitado:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-71-1" id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span>
<a href="#__codelineno-71-2" id="__codelineno-71-2" name="__codelineno-71-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-71-3" id="__codelineno-71-3" name="__codelineno-71-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">resource_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SESSIONS_PER_USER'</span>
<a href="#__codelineno-71-4" id="__codelineno-71-4" name="__codelineno-71-4"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'UNLIMITED'</span><span class="p">,</span><span class="w"> </span><span class="s1">'DEFAULT'</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-72-1" id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="k">no</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span>
</code></pre></div>
<p>Por lo tanto, por ejemplo, voy a limitar <code>SESSIONS_PER_USER</code> en el perfil <code>NOPARESDECURRAR</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-73-1" id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">NOPARESDECURRAR</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="n">SESSIONS_PER_USER</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
<p>Si vuelvo a lanzar la consulta anterior, ya aparece el perfil:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-74-1" id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span>
<a href="#__codelineno-74-2" id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-74-3" id="__codelineno-74-3" name="__codelineno-74-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">resource_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SESSIONS_PER_USER'</span>
<a href="#__codelineno-74-4" id="__codelineno-74-4" name="__codelineno-74-4"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'UNLIMITED'</span><span class="p">,</span><span class="w"> </span><span class="s1">'DEFAULT'</span><span class="p">);</span>
<a href="#__codelineno-74-5" id="__codelineno-74-5" name="__codelineno-74-5"></a>
<a href="#__codelineno-74-6" id="__codelineno-74-6" name="__codelineno-74-6"></a><span class="n">PROFILE</span>
<a href="#__codelineno-74-7" id="__codelineno-74-7" name="__codelineno-74-7"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-74-8" id="__codelineno-74-8" name="__codelineno-74-8"></a><span class="n">NOPARESDECURRAR</span>
</code></pre></div>
<p>Además, ahora mismo tampoco tengo ningún usuario con el perfil <code>NOPARESDECURRAR</code> asignado:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-75-1" id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span>
<a href="#__codelineno-75-2" id="__codelineno-75-2" name="__codelineno-75-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span>
<a href="#__codelineno-75-3" id="__codelineno-75-3" name="__codelineno-75-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'NOPARESDECURRAR'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-76-1" id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="k">no</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span>
</code></pre></div>
<p>Así que, por ejemplo, se lo vuelvo a asignar a <code>USRPRACTICA1</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-77-1" id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">USRPRACTICA1</span><span class="w"> </span><span class="n">PROFILE</span><span class="w"> </span><span class="n">NOPARESDECURRAR</span><span class="p">;</span>
<a href="#__codelineno-77-2" id="__codelineno-77-2" name="__codelineno-77-2"></a>
<a href="#__codelineno-77-3" id="__codelineno-77-3" name="__codelineno-77-3"></a><span class="k">User</span><span class="w"> </span><span class="n">altered</span><span class="p">.</span>
</code></pre></div>
<p>Si vuelvo a lanzar la consulta anterior, ya aparece el usuario con el perfil:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-78-1" id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span>
<a href="#__codelineno-78-2" id="__codelineno-78-2" name="__codelineno-78-2"></a><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span>
<a href="#__codelineno-78-3" id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'NOPARESDECURRAR'</span><span class="p">;</span>
<a href="#__codelineno-78-4" id="__codelineno-78-4" name="__codelineno-78-4"></a>
<a href="#__codelineno-78-5" id="__codelineno-78-5" name="__codelineno-78-5"></a><span class="n">USERNAME</span>
<a href="#__codelineno-78-6" id="__codelineno-78-6" name="__codelineno-78-6"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-78-7" id="__codelineno-78-7" name="__codelineno-78-7"></a><span class="n">USRPRACTICA1</span>
</code></pre></div>
<h3 id="23-comprobaciones">23. Comprobaciones</h3>
<p>Después de hacer todo lo anterior, ya podemos mostrar directamente los usuarios que tienen limitado el número de sesiones (que será 1, el que he "forzado" para que la siguiente consulta no saliera vacía):</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-79-1" id="__codelineno-79-1" name="__codelineno-79-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">username</span>
<a href="#__codelineno-79-2" id="__codelineno-79-2" name="__codelineno-79-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span>
<a href="#__codelineno-79-3" id="__codelineno-79-3" name="__codelineno-79-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-79-4" id="__codelineno-79-4" name="__codelineno-79-4"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span>
<a href="#__codelineno-79-5" id="__codelineno-79-5" name="__codelineno-79-5"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-79-6" id="__codelineno-79-6" name="__codelineno-79-6"></a><span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">resource_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SESSIONS_PER_USER'</span>
<a href="#__codelineno-79-7" id="__codelineno-79-7" name="__codelineno-79-7"></a><span class="w">          </span><span class="k">AND</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'UNLIMITED'</span><span class="p">,</span><span class="w"> </span><span class="s1">'DEFAULT'</span><span class="p">)</span>
<a href="#__codelineno-79-8" id="__codelineno-79-8" name="__codelineno-79-8"></a><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-80-1" id="__codelineno-80-1" name="__codelineno-80-1"></a><span class="n">USERNAME</span>
<a href="#__codelineno-80-2" id="__codelineno-80-2" name="__codelineno-80-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-80-3" id="__codelineno-80-3" name="__codelineno-80-3"></a><span class="n">USRPRACTICA1</span>
</code></pre></div>
<p>Además, puedo comprobar que efectivamente las sesiones concurrentes de este usuario están limitadas a 1:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://i.imgur.com/r3QIFDq.png"><img alt="sesiones1" src="https://i.imgur.com/r3QIFDq.png"/></a></p>
<h2 id="ejercicio-24">Ejercicio 24</h2>
<h3 id="24-enunciado">24. Enunciado</h3>
<p>Realizar un procedimiento que reciba un nombre de usuario y un privilegio de sistema y nos muestre el mensaje 'SI, DIRECTO' si el usuario tiene ese privilegio concedido directamente, 'SI, POR ROL' si el usuario tiene ese privilegio en alguno de los roles que tiene concedidos y un 'NO' si el usuario no tiene dicho privilegio.</p>
<h3 id="24-codigo">24. Código</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-81-1" id="__codelineno-81-1" name="__codelineno-81-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="n">comprobar_privilegio_sistema</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-81-2" id="__codelineno-81-2" name="__codelineno-81-2"></a><span class="w">    </span><span class="n">p_usuario</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">,</span>
<a href="#__codelineno-81-3" id="__codelineno-81-3" name="__codelineno-81-3"></a><span class="w">    </span><span class="n">p_privilegio</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">VARCHAR2</span>
<a href="#__codelineno-81-4" id="__codelineno-81-4" name="__codelineno-81-4"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span>
<a href="#__codelineno-81-5" id="__codelineno-81-5" name="__codelineno-81-5"></a><span class="w">    </span><span class="k">CURSOR</span><span class="w"> </span><span class="n">c_lista_privilegios</span><span class="w"> </span><span class="k">IS</span>
<a href="#__codelineno-81-6" id="__codelineno-81-6" name="__codelineno-81-6"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<a href="#__codelineno-81-7" id="__codelineno-81-7" name="__codelineno-81-7"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_SYS_PRIVS</span>
<a href="#__codelineno-81-8" id="__codelineno-81-8" name="__codelineno-81-8"></a><span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p_usuario</span>
<a href="#__codelineno-81-9" id="__codelineno-81-9" name="__codelineno-81-9"></a><span class="w">            </span><span class="k">OR</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-81-10" id="__codelineno-81-10" name="__codelineno-81-10"></a><span class="w">                </span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<a href="#__codelineno-81-11" id="__codelineno-81-11" name="__codelineno-81-11"></a><span class="w">                </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<a href="#__codelineno-81-12" id="__codelineno-81-12" name="__codelineno-81-12"></a><span class="w">                </span><span class="k">CONNECT</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">PRIOR</span><span class="w"> </span><span class="n">granted_role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p_usuario</span>
<a href="#__codelineno-81-13" id="__codelineno-81-13" name="__codelineno-81-13"></a><span class="w">            </span><span class="p">)</span>
<a href="#__codelineno-81-14" id="__codelineno-81-14" name="__codelineno-81-14"></a><span class="w">        </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">;</span>
<a href="#__codelineno-81-15" id="__codelineno-81-15" name="__codelineno-81-15"></a><span class="w">    </span><span class="n">v_es_usuario</span><span class="w"> </span><span class="nb">NUMBER</span><span class="p">;</span>
<a href="#__codelineno-81-16" id="__codelineno-81-16" name="__codelineno-81-16"></a><span class="w">    </span><span class="n">v_es_rol</span><span class="w">     </span><span class="nb">NUMBER</span><span class="p">;</span>
<a href="#__codelineno-81-17" id="__codelineno-81-17" name="__codelineno-81-17"></a><span class="k">BEGIN</span>
<a href="#__codelineno-81-18" id="__codelineno-81-18" name="__codelineno-81-18"></a><span class="w">    </span><span class="k">FOR</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">c_lista_privilegios</span><span class="w"> </span><span class="n">LOOP</span>
<a href="#__codelineno-81-19" id="__codelineno-81-19" name="__codelineno-81-19"></a><span class="w">        </span><span class="k">IF</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">privilege</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p_privilegio</span><span class="w"> </span><span class="k">THEN</span>
<a href="#__codelineno-81-20" id="__codelineno-81-20" name="__codelineno-81-20"></a><span class="w">            </span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">v_es_usuario</span>
<a href="#__codelineno-81-21" id="__codelineno-81-21" name="__codelineno-81-21"></a><span class="w">            </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span>
<a href="#__codelineno-81-22" id="__codelineno-81-22" name="__codelineno-81-22"></a><span class="w">            </span><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">grantee</span><span class="p">;</span>
<a href="#__codelineno-81-23" id="__codelineno-81-23" name="__codelineno-81-23"></a><span class="w">            </span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">v_es_rol</span>
<a href="#__codelineno-81-24" id="__codelineno-81-24" name="__codelineno-81-24"></a><span class="w">            </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLES</span>
<a href="#__codelineno-81-25" id="__codelineno-81-25" name="__codelineno-81-25"></a><span class="w">            </span><span class="k">WHERE</span><span class="w"> </span><span class="k">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">grantee</span><span class="p">;</span>
<a href="#__codelineno-81-26" id="__codelineno-81-26" name="__codelineno-81-26"></a><span class="w">        </span><span class="k">END</span><span class="w"> </span><span class="k">IF</span><span class="p">;</span>
<a href="#__codelineno-81-27" id="__codelineno-81-27" name="__codelineno-81-27"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="n">LOOP</span><span class="p">;</span>
<a href="#__codelineno-81-28" id="__codelineno-81-28" name="__codelineno-81-28"></a><span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="n">v_es_usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span>
<a href="#__codelineno-81-29" id="__codelineno-81-29" name="__codelineno-81-29"></a><span class="w">        </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">PUT_LINE</span><span class="p">(</span><span class="s1">'SI, DIRECTO'</span><span class="p">);</span>
<a href="#__codelineno-81-30" id="__codelineno-81-30" name="__codelineno-81-30"></a><span class="w">    </span><span class="k">ELSIF</span><span class="w"> </span><span class="n">v_es_rol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span>
<a href="#__codelineno-81-31" id="__codelineno-81-31" name="__codelineno-81-31"></a><span class="w">        </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">PUT_LINE</span><span class="p">(</span><span class="s1">'SI, POR ROL'</span><span class="p">);</span>
<a href="#__codelineno-81-32" id="__codelineno-81-32" name="__codelineno-81-32"></a><span class="w">    </span><span class="k">ELSE</span>
<a href="#__codelineno-81-33" id="__codelineno-81-33" name="__codelineno-81-33"></a><span class="w">        </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">PUT_LINE</span><span class="p">(</span><span class="s1">'NO'</span><span class="p">);</span>
<a href="#__codelineno-81-34" id="__codelineno-81-34" name="__codelineno-81-34"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">IF</span><span class="p">;</span>
<a href="#__codelineno-81-35" id="__codelineno-81-35" name="__codelineno-81-35"></a><span class="k">END</span><span class="p">;</span>
<a href="#__codelineno-81-36" id="__codelineno-81-36" name="__codelineno-81-36"></a><span class="o">/</span>
</code></pre></div>
<h3 id="24-comprobaciones">24. Comprobaciones</h3>
<p>Antes de nada, aclaro que estaré usando el usuario <code>USRPRACTICA1</code> para las pruebas, porque lo tengo preparado con privilegios y roles para que salgan unos resultados lo más completos posibles.</p>
<p>Primero voy a mostrar TODOS (directos, por rol, y con recursividad de rol) los privilegios de <code>USRPRACTICA1</code> para que tengamos una imagen global:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-82-1" id="__codelineno-82-1" name="__codelineno-82-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<a href="#__codelineno-82-2" id="__codelineno-82-2" name="__codelineno-82-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_SYS_PRIVS</span>
<a href="#__codelineno-82-3" id="__codelineno-82-3" name="__codelineno-82-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span>
<a href="#__codelineno-82-4" id="__codelineno-82-4" name="__codelineno-82-4"></a><span class="w">    </span><span class="k">OR</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-82-5" id="__codelineno-82-5" name="__codelineno-82-5"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<a href="#__codelineno-82-6" id="__codelineno-82-6" name="__codelineno-82-6"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<a href="#__codelineno-82-7" id="__codelineno-82-7" name="__codelineno-82-7"></a><span class="w">        </span><span class="k">CONNECT</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">PRIOR</span><span class="w"> </span><span class="n">granted_role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">START</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span>
<a href="#__codelineno-82-8" id="__codelineno-82-8" name="__codelineno-82-8"></a><span class="w">    </span><span class="p">)</span>
<a href="#__codelineno-82-9" id="__codelineno-82-9" name="__codelineno-82-9"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-83-1" id="__codelineno-83-1" name="__codelineno-83-1"></a><span class="n">GRANTEE</span><span class="w">                                                                                                                          </span><span class="n">PRIVILEGE</span><span class="w">                                </span><span class="n">ADM</span><span class="w"> </span><span class="n">COM</span><span class="w"> </span><span class="n">INH</span>
<a href="#__codelineno-83-2" id="__codelineno-83-2" name="__codelineno-83-2"></a><span class="c1">-------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------- --- --- ---</span>
<a href="#__codelineno-83-3" id="__codelineno-83-3" name="__codelineno-83-3"></a><span class="n">EJEMPLO</span><span class="w">                                                                                                                          </span><span class="k">CREATE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="n">SYNONYM</span><span class="w">                       </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-4" id="__codelineno-83-4" name="__codelineno-83-4"></a><span class="n">ROLPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">CREATE</span><span class="w"> </span><span class="k">SESSION</span><span class="w">                           </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-5" id="__codelineno-83-5" name="__codelineno-83-5"></a><span class="n">ROLPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w">                             </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-6" id="__codelineno-83-6" name="__codelineno-83-6"></a><span class="n">USRPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">CREATE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">INDEX</span><span class="w">                         </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-7" id="__codelineno-83-7" name="__codelineno-83-7"></a><span class="n">USRPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">CREATE</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">TABLE</span><span class="w">                         </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-8" id="__codelineno-83-8" name="__codelineno-83-8"></a><span class="n">USRPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">CREATE</span><span class="w"> </span><span class="k">SESSION</span><span class="w">                           </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-9" id="__codelineno-83-9" name="__codelineno-83-9"></a><span class="n">USRPRACTICA1</span><span class="w">                                                                                                                     </span><span class="k">INSERT</span><span class="w"> </span><span class="k">ANY</span><span class="w"> </span><span class="k">TABLE</span><span class="w">                         </span><span class="k">NO</span><span class="w">  </span><span class="n">YES</span><span class="w"> </span><span class="k">NO</span>
<a href="#__codelineno-83-10" id="__codelineno-83-10" name="__codelineno-83-10"></a>
<a href="#__codelineno-83-11" id="__codelineno-83-11" name="__codelineno-83-11"></a><span class="mi">7</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="n">selected</span><span class="p">.</span>
</code></pre></div>
<p>Depende de quien haya recibido el privilegio, es de un tipo u otro:</p>
<ul>
<li><code>USRPRACTICA1</code>: directo, lo recibe el usuario</li>
<li><code>ROLPRACTICA1</code>: por rol, está otorgado a <code>USRPRACTICA1</code></li>
<li><code>EJEMPLO</code>: por rol recursivo, ya que ejemplo no es un rol otorgado a <code>USRPRACTICA1</code>, es un rol otorgado a <code>ROLPRACTICA1</code></li>
</ul>
<p>Para probar lo dicho, muestro los roles de <code>USRPRACTICA1</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-84-1" id="__codelineno-84-1" name="__codelineno-84-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<a href="#__codelineno-84-2" id="__codelineno-84-2" name="__codelineno-84-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<a href="#__codelineno-84-3" id="__codelineno-84-3" name="__codelineno-84-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'USRPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-85-1" id="__codelineno-85-1" name="__codelineno-85-1"></a><span class="n">GRANTED_ROLE</span>
<a href="#__codelineno-85-2" id="__codelineno-85-2" name="__codelineno-85-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-85-3" id="__codelineno-85-3" name="__codelineno-85-3"></a><span class="n">ROLPRACTICA1</span>
</code></pre></div>
<p>Y muestros los roles del rol <code>ROLPRACTICA1</code>:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-86-1" id="__codelineno-86-1" name="__codelineno-86-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<a href="#__codelineno-86-2" id="__codelineno-86-2" name="__codelineno-86-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<a href="#__codelineno-86-3" id="__codelineno-86-3" name="__codelineno-86-3"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ROLPRACTICA1'</span><span class="p">;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-87-1" id="__codelineno-87-1" name="__codelineno-87-1"></a><span class="n">GRANTED_ROLE</span>
<a href="#__codelineno-87-2" id="__codelineno-87-2" name="__codelineno-87-2"></a><span class="c1">--------------------------------------------------------------------------------------------------------------------------------</span>
<a href="#__codelineno-87-3" id="__codelineno-87-3" name="__codelineno-87-3"></a><span class="n">EJEMPLO</span>
</code></pre></div>
<p>Como vemos, ejemplo (un rol que he creado y preparado) no es un rol directo de <code>USRPRACTICA1</code>, es un rol directo de <code>ROLPRACTICA1</code>, así que ya aquí entraría en juego la recursividad.</p>
<p>Teniendo todo esto en mente, y el resultado completo de privilegios de arriba, podremos entender el resultado de la ejecución del procedimiento.</p>
<p>Muestro un privilegio directo:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-88-1" id="__codelineno-88-1" name="__codelineno-88-1"></a><span class="k">EXEC</span><span class="w"> </span><span class="n">comprobar_privilegio_sistema</span><span class="p">(</span><span class="s1">'USRPRACTICA1'</span><span class="p">,</span><span class="s1">'CREATE ANY TABLE'</span><span class="p">);</span>
<a href="#__codelineno-88-2" id="__codelineno-88-2" name="__codelineno-88-2"></a><span class="n">SI</span><span class="p">,</span><span class="w"> </span><span class="n">DIRECTO</span>
<a href="#__codelineno-88-3" id="__codelineno-88-3" name="__codelineno-88-3"></a>
<a href="#__codelineno-88-4" id="__codelineno-88-4" name="__codelineno-88-4"></a><span class="n">PL</span><span class="o">/</span><span class="k">SQL</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">completed</span><span class="p">.</span>
</code></pre></div>
<p>Muestro un privilegio por rol:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-89-1" id="__codelineno-89-1" name="__codelineno-89-1"></a><span class="k">EXEC</span><span class="w"> </span><span class="n">comprobar_privilegio_sistema</span><span class="p">(</span><span class="s1">'USRPRACTICA1'</span><span class="p">,</span><span class="s1">'CREATE TABLE'</span><span class="p">);</span>
<a href="#__codelineno-89-2" id="__codelineno-89-2" name="__codelineno-89-2"></a><span class="n">SI</span><span class="p">,</span><span class="w"> </span><span class="n">POR</span><span class="w"> </span><span class="n">ROL</span>
<a href="#__codelineno-89-3" id="__codelineno-89-3" name="__codelineno-89-3"></a>
<a href="#__codelineno-89-4" id="__codelineno-89-4" name="__codelineno-89-4"></a><span class="n">PL</span><span class="o">/</span><span class="k">SQL</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">completed</span><span class="p">.</span>
</code></pre></div>
<p>Muestro un privilegio por rol recursivo:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-90-1" id="__codelineno-90-1" name="__codelineno-90-1"></a><span class="k">EXEC</span><span class="w"> </span><span class="n">comprobar_privilegio_sistema</span><span class="p">(</span><span class="s1">'USRPRACTICA1'</span><span class="p">,</span><span class="s1">'CREATE ANY SYNONYM'</span><span class="p">);</span>
<a href="#__codelineno-90-2" id="__codelineno-90-2" name="__codelineno-90-2"></a><span class="n">SI</span><span class="p">,</span><span class="w"> </span><span class="n">POR</span><span class="w"> </span><span class="n">ROL</span>
<a href="#__codelineno-90-3" id="__codelineno-90-3" name="__codelineno-90-3"></a>
<a href="#__codelineno-90-4" id="__codelineno-90-4" name="__codelineno-90-4"></a><span class="n">PL</span><span class="o">/</span><span class="k">SQL</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">completed</span><span class="p">.</span>
</code></pre></div>
<p>Muestro un privilegio que no tenga asignado de ninguna manera:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-91-1" id="__codelineno-91-1" name="__codelineno-91-1"></a><span class="k">EXEC</span><span class="w"> </span><span class="n">comprobar_privilegio_sistema</span><span class="p">(</span><span class="s1">'USRPRACTICA1'</span><span class="p">,</span><span class="s1">'CREATE ANY PROCEDURE'</span><span class="p">);</span>
<a href="#__codelineno-91-2" id="__codelineno-91-2" name="__codelineno-91-2"></a><span class="k">NO</span>
<a href="#__codelineno-91-3" id="__codelineno-91-3" name="__codelineno-91-3"></a>
<a href="#__codelineno-91-4" id="__codelineno-91-4" name="__codelineno-91-4"></a><span class="n">PL</span><span class="o">/</span><span class="k">SQL</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">completed</span><span class="p">.</span>
</code></pre></div>
<h2 id="ejercicio-25">Ejercicio 25</h2>
<h3 id="25-enunciado">25. Enunciado</h3>
<p>Realizar un procedimiento llamado <code>MostrarNumSesiones</code> que:</p>
<ul>
<li>Reciba un nombre de usuario</li>
<li>Muestre el número de sesiones concurrentes que puede tener abiertas como máximo</li>
<li>Muestre el número de sesiones concurrentes que tiene abiertas actualmente</li>
</ul>
<h3 id="25-codigo">25. Código</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-92-1" id="__codelineno-92-1" name="__codelineno-92-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="k">REPLACE</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="n">MostrarNumSesiones</span><span class="w"> </span><span class="p">(</span>
<a href="#__codelineno-92-2" id="__codelineno-92-2" name="__codelineno-92-2"></a><span class="w">        </span><span class="n">usuarioentrante</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="n">VARCHAR2</span>
<a href="#__codelineno-92-3" id="__codelineno-92-3" name="__codelineno-92-3"></a><span class="p">)</span><span class="w"> </span><span class="k">IS</span>
<a href="#__codelineno-92-4" id="__codelineno-92-4" name="__codelineno-92-4"></a><span class="w">        </span><span class="n">v_perfilsacado</span><span class="w">     </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<a href="#__codelineno-92-5" id="__codelineno-92-5" name="__codelineno-92-5"></a><span class="w">        </span><span class="n">v_limitmaxsesiones</span><span class="w"> </span><span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<a href="#__codelineno-92-6" id="__codelineno-92-6" name="__codelineno-92-6"></a><span class="w">        </span><span class="n">v_numsesiones</span><span class="w">      </span><span class="nb">NUMBER</span><span class="p">;</span>
<a href="#__codelineno-92-7" id="__codelineno-92-7" name="__codelineno-92-7"></a><span class="k">BEGIN</span>
<a href="#__codelineno-92-8" id="__codelineno-92-8" name="__codelineno-92-8"></a><span class="w"> </span><span class="c1">-- Sacamos el perfil del usuario solicitado</span>
<a href="#__codelineno-92-9" id="__codelineno-92-9" name="__codelineno-92-9"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">v_perfilsacado</span>
<a href="#__codelineno-92-10" id="__codelineno-92-10" name="__codelineno-92-10"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_USERS</span>
<a href="#__codelineno-92-11" id="__codelineno-92-11" name="__codelineno-92-11"></a><span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">usuarioentrante</span><span class="p">;</span>
<a href="#__codelineno-92-12" id="__codelineno-92-12" name="__codelineno-92-12"></a><span class="w"> </span><span class="c1">-- Sacamos el número máximo de sesiones permitidas para ese usuario</span>
<a href="#__codelineno-92-13" id="__codelineno-92-13" name="__codelineno-92-13"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">v_limitmaxsesiones</span>
<a href="#__codelineno-92-14" id="__codelineno-92-14" name="__codelineno-92-14"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_PROFILES</span>
<a href="#__codelineno-92-15" id="__codelineno-92-15" name="__codelineno-92-15"></a><span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v_perfilsacado</span>
<a href="#__codelineno-92-16" id="__codelineno-92-16" name="__codelineno-92-16"></a><span class="w">                </span><span class="k">AND</span><span class="w"> </span><span class="n">resource_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'SESSIONS_PER_USER'</span><span class="p">;</span>
<a href="#__codelineno-92-17" id="__codelineno-92-17" name="__codelineno-92-17"></a><span class="w"> </span><span class="c1">-- Sacamos las sesiones abiertas por ese usuario actualmente</span>
<a href="#__codelineno-92-18" id="__codelineno-92-18" name="__codelineno-92-18"></a><span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">v_numsesiones</span>
<a href="#__codelineno-92-19" id="__codelineno-92-19" name="__codelineno-92-19"></a><span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$SESSION</span>
<a href="#__codelineno-92-20" id="__codelineno-92-20" name="__codelineno-92-20"></a><span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">usuarioentrante</span><span class="p">;</span>
<a href="#__codelineno-92-21" id="__codelineno-92-21" name="__codelineno-92-21"></a><span class="w">        </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">PUT_LINE</span><span class="p">(</span><span class="s1">'El usuario '</span><span class="o">||</span><span class="w"> </span><span class="n">usuarioentrante</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">' tiene un limite de sesiones concurrentes permitidas de: '</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">v_limitmaxsesiones</span><span class="p">);</span>
<a href="#__codelineno-92-22" id="__codelineno-92-22" name="__codelineno-92-22"></a><span class="w">        </span><span class="n">DBMS_OUTPUT</span><span class="p">.</span><span class="n">PUT_LINE</span><span class="p">(</span><span class="s1">'Pero el numero real de sesiones que tiene abiertas son: '</span><span class="o">||</span><span class="w"> </span><span class="n">v_numsesiones</span><span class="p">);</span>
<a href="#__codelineno-92-23" id="__codelineno-92-23" name="__codelineno-92-23"></a><span class="k">END</span><span class="p">;</span>
<a href="#__codelineno-92-24" id="__codelineno-92-24" name="__codelineno-92-24"></a><span class="o">/</span>
</code></pre></div>
<h3 id="25-comprobaciones">25. Comprobaciones</h3>
<p>Primero dejo abiertas 2 sesiones con el usuario <code>TESTING</code>:</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://i.imgur.com/P3tPeN3.png"><img alt="2sesionestesting" src="https://i.imgur.com/P3tPeN3.png"/></a></p>
<p>Lanzo el procedimiento y pruebo que funciona:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-93-1" id="__codelineno-93-1" name="__codelineno-93-1"></a><span class="k">EXEC</span><span class="w"> </span><span class="n">MostrarNumSesiones</span><span class="p">(</span><span class="s1">'TESTING'</span><span class="p">);</span>
<a href="#__codelineno-93-2" id="__codelineno-93-2" name="__codelineno-93-2"></a><span class="n">El</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="n">TESTING</span><span class="w"> </span><span class="n">tiene</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="n">limite</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">sesiones</span><span class="w"> </span><span class="n">concurrentes</span><span class="w"> </span><span class="n">permitidas</span><span class="w"> </span><span class="n">de</span><span class="p">:</span><span class="w"> </span><span class="n">UNLIMITED</span>
<a href="#__codelineno-93-3" id="__codelineno-93-3" name="__codelineno-93-3"></a><span class="n">Pero</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">numero</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">sesiones</span><span class="w"> </span><span class="n">que</span><span class="w"> </span><span class="n">tiene</span><span class="w"> </span><span class="n">abiertas</span><span class="w"> </span><span class="n">son</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-93-4" id="__codelineno-93-4" name="__codelineno-93-4"></a>
<a href="#__codelineno-93-5" id="__codelineno-93-5" name="__codelineno-93-5"></a><span class="n">PL</span><span class="o">/</span><span class="k">SQL</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">successfully</span><span class="w"> </span><span class="n">completed</span><span class="p">.</span>
</code></pre></div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.sections", "navigation.top"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
<script src="../../../javascripts/asciinema-player.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>