# Ejercicio 3

##  Crea un tablespace TS2 con tamaño de extensión de 256K. Realiza una consulta que genere un script que asigne ese tablespace como tablespace por defecto a los usuarios que no tienen privilegios para consultar ninguna tabla de SCOTT, excepto a SYSTEM.

## Creamos el tablespace TS2:

```sql
SQL> CREATE TABLESPACE TS2
DATAFILE 'TS2.dbf' SIZE 256K
EXTENT MANAGEMENT LOCAL AUTOALLOCATE;

Tablespace creado.
```

## Realizamos la consulta que nos generara un script:

```sql
SQL> SELECT 'ALTER USER ' || username || ' DEFAULT TABLESPACE TS2;'
FROM dba_users
WHERE username NOT IN (SELECT grantee FROM dba_tab_privs WHERE owner = 'SCOTT')
AND username != 'SYSTEM';


'ALTERUSER'||USERNAME||'DEFAULTTABLESPACETS2;'
--------------------------------------------------------------------------------
ALTER USER XS$NULL DEFAULT TABLESPACE TS2;
ALTER USER SYS DEFAULT TABLESPACE TS2;
ALTER USER OJVMSYS DEFAULT TABLESPACE TS2;
ALTER USER LBACSYS DEFAULT TABLESPACE TS2;
ALTER USER OUTLN DEFAULT TABLESPACE TS2;
ALTER USER SYS$UMF DEFAULT TABLESPACE TS2;
ALTER USER DBSNMP DEFAULT TABLESPACE TS2;
ALTER USER APPQOSSYS DEFAULT TABLESPACE TS2;
ALTER USER DBSFWUSER DEFAULT TABLESPACE TS2;
ALTER USER GGSYS DEFAULT TABLESPACE TS2;
ALTER USER ANONYMOUS DEFAULT TABLESPACE TS2;
ALTER USER CTXSYS DEFAULT TABLESPACE TS2;
ALTER USER DVSYS DEFAULT TABLESPACE TS2;
ALTER USER DVF DEFAULT TABLESPACE TS2;
ALTER USER GSMADMIN_INTERNAL DEFAULT TABLESPACE TS2;
ALTER USER MDSYS DEFAULT TABLESPACE TS2;
ALTER USER OLAPSYS DEFAULT TABLESPACE TS2;
ALTER USER XDB DEFAULT TABLESPACE TS2;
ALTER USER WMSYS DEFAULT TABLESPACE TS2;
ALTER USER GSMCATUSER DEFAULT TABLESPACE TS2;
ALTER USER MDDATA DEFAULT TABLESPACE TS2;
ALTER USER SYSBACKUP DEFAULT TABLESPACE TS2;
ALTER USER REMOTE_SCHEDULER_AGENT DEFAULT TABLESPACE TS2;
ALTER USER GSMUSER DEFAULT TABLESPACE TS2;
ALTER USER EXAMENPLSQL DEFAULT TABLESPACE TS2;
ALTER USER SYSRAC DEFAULT TABLESPACE TS2;
ALTER USER GSMROOTUSER DEFAULT TABLESPACE TS2;
ALTER USER JUVENIL DEFAULT TABLESPACE TS2;
ALTER USER SI_INFORMTN_SCHEMA DEFAULT TABLESPACE TS2;
ALTER USER AUDSYS DEFAULT TABLESPACE TS2;
ALTER USER DIP DEFAULT TABLESPACE TS2;
ALTER USER ORDPLUGINS DEFAULT TABLESPACE TS2;
ALTER USER JOSEJU DEFAULT TABLESPACE TS2;
ALTER USER SYSKM DEFAULT TABLESPACE TS2;
ALTER USER ORDDATA DEFAULT TABLESPACE TS2;
ALTER USER ORACLE_OCM DEFAULT TABLESPACE TS2;
ALTER USER HIPODROMO DEFAULT TABLESPACE TS2;
ALTER USER C###JOSEJU10 DEFAULT TABLESPACE TS2;
ALTER USER SYSDG DEFAULT TABLESPACE TS2;
ALTER USER ORDSYS DEFAULT TABLESPACE TS2;

40 filas seleccionadas.
```

- Ejecutamos el script:

```sql
SQL> ALTER USER XS$NULL DEFAULT TABLESPACE TS2;
ALTER USER SYS DEFAULT TABLESPACE TS2;
ALTER USER OJVMSYS DEFAULT TABLESPACE TS2;
ALTER USER LBACSYS DEFAULT TABLESPACE TS2;
ALTER USER OUTLN DEFAULT TABLESPACE TS2;
ALTER USER SYS$UMF DEFAULT TABLESPACE TS2;
ALTER USER DBSNMP DEFAULT TABLESPACE TS2;
ALTER USER APPQOSSYS DEFAULT TABLESPACE TS2;
ALTER USER DBSFWUSER DEFAULT TABLESPACE TS2;
ALTER USER GGSYS DEFAULT TABLESPACE TS2;
ALTER USER ANONYMOUS DEFAULT TABLESPACE TS2;
ALTER USER CTXSYS DEFAULT TABLESPACE TS2;
ALTER USER DVSYS DEFAULT TABLESPACE TS2;
ALTER USER DVF DEFAULT TABLESPACE TS2;
ALTER USER GSMADMIN_INTERNAL DEFAULT TABLESPACE TS2;
ALTER USER MDSYS DEFAULT TABLESPACE TS2;
ALTER USER OLAPSYS DEFAULT TABLESPACE TS2;
ALTER USER XDB DEFAULT TABLESPACE TS2;
ALTER USER WMSYS DEFAULT TABLESPACE TS2;
ALTER USER GSMCATUSER DEFAULT TABLESPACE TS2;
ALTER USER MDDATA DEFAULT TABLESPACE TS2;
ALTER USER SYSBACKUP DEFAULT TABLESPACE TS2;
ALTER USER REMOTE_SCHEDULER_AGENT DEFAULT TABLESPACE TS2;
ALTER USER GSMUSER DEFAULT TABLESPACE TS2;
ALTER USER EXAMENPLSQL DEFAULT TABLESPACE TS2;
ALTER USER SYSRAC DEFAULT TABLESPACE TS2;
ALTER USER GSMROOTUSER DEFAULT TABLESPACE TS2;
ALTER USER JUVENIL DEFAULT TABLESPACE TS2;
ALTER USER SI_INFORMTN_SCHEMA DEFAULT TABLESPACE TS2;
ALTER USER AUDSYS DEFAULT TABLESPACE TS2;
ALTER USER DIP DEFAULT TABLESPACE TS2;
ALTER USER ORDPLUGINS DEFAULT TABLESPACE TS2;
ALTER USER JOSEJU DEFAULT TABLESPACE TS2;
ALTER USER SYSKM DEFAULT TABLESPACE TS2;
ALTER USER ORDDATA DEFAULT TABLESPACE TS2;
ALTER USER ORACLE_OCM DEFAULT TABLESPACE TS2;
ALTER USER HIPODROMO DEFAULT TABLESPACE TS2;
ALTER USER C###JOSEJU10 DEFAULT TABLESPACE TS2;
ALTER USER SYSDG DEFAULT TABLESPACE TS2;
ALTER USER ORDSYS DEFAULT TABLESPACE TS2;ALTER USER XS$NULL DEFAULT TABLESPACE TS2
*

SQL> 
Usuario modificado.
```

